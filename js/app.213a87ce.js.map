{"version":3,"file":"js/app.213a87ce.js","mappings":"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","sources":["webpack://chatwpt/./src/App.vue","webpack://chatwpt/src/App.vue","webpack://chatwpt/./src/App.vue?c036","webpack://chatwpt/./src/App.vue?0e40","webpack://chatwpt/./src/components/ChatBox.vue","webpack://chatwpt/./src/components/TabSelector.vue","webpack://chatwpt/src/components/TabSelector.vue","webpack://chatwpt/./src/components/TabSelector.vue?b981","webpack://chatwpt/./src/components/TabSelector.vue?d3cd","webpack://chatwpt/./src/components/ChatBox/MessageBox.vue","webpack://chatwpt/./src/utils/helpers.js","webpack://chatwpt/./src/components/IconBox/IconAI.vue","webpack://chatwpt/./src/utils/api.js","webpack://chatwpt/src/components/IconBox/IconAI.vue","webpack://chatwpt/./src/components/IconBox/IconAI.vue?6d08","webpack://chatwpt/./src/components/IconBox/IconAI.vue?1edc","webpack://chatwpt/./src/components/CodeBlock.vue","webpack://chatwpt/src/components/CodeBlock.vue","webpack://chatwpt/./src/components/CodeBlock.vue?9cad","webpack://chatwpt/./src/components/CodeBlock.vue?1033","webpack://chatwpt/src/components/ChatBox/MessageBox.vue","webpack://chatwpt/./src/components/ChatBox/MessageBox.vue?68b5","webpack://chatwpt/./src/components/ChatBox/MessageBox.vue?e006","webpack://chatwpt/./src/components/ChatBox/InputBox.vue","webpack://chatwpt/src/components/ChatBox/InputBox.vue","webpack://chatwpt/./src/components/ChatBox/InputBox.vue?7fc4","webpack://chatwpt/./src/components/ChatBox/InputBox.vue?a3ee","webpack://chatwpt/./src/components/ImgBox/Glm4V.vue","webpack://chatwpt/./src/utils/prompt.js","webpack://chatwpt/src/components/ImgBox/Glm4V.vue","webpack://chatwpt/./src/components/ImgBox/Glm4V.vue?1331","webpack://chatwpt/./src/components/ImgBox/Glm4V.vue?f10e","webpack://chatwpt/./src/components/ImgBox/CogView.vue","webpack://chatwpt/src/components/ImgBox/CogView.vue","webpack://chatwpt/./src/components/ImgBox/CogView.vue?fea0","webpack://chatwpt/./src/components/ImgBox/CogView.vue?65aa","webpack://chatwpt/./src/components/ImgBox/VideoGlm.vue","webpack://chatwpt/src/components/ImgBox/VideoGlm.vue","webpack://chatwpt/./src/components/ImgBox/VideoGlm.vue?dacc","webpack://chatwpt/./src/components/ImgBox/VideoGlm.vue?91cb","webpack://chatwpt/./src/components/ImgBox/VideoImg.vue","webpack://chatwpt/src/components/ImgBox/VideoImg.vue","webpack://chatwpt/./src/components/ImgBox/VideoImg.vue?7eea","webpack://chatwpt/./src/components/ImgBox/VideoImg.vue?5c9d","webpack://chatwpt/./src/components/FooterBox.vue","webpack://chatwpt/src/components/FooterBox.vue","webpack://chatwpt/./src/components/FooterBox.vue?dfa3","webpack://chatwpt/./src/components/FooterBox.vue?ae64","webpack://chatwpt/./src/components/ChatBox/RagChat.vue","webpack://chatwpt/src/components/ChatBox/RagChat.vue","webpack://chatwpt/./src/components/ChatBox/RagChat.vue?2729","webpack://chatwpt/./src/components/ChatBox/RagChat.vue?7438","webpack://chatwpt/src/components/ChatBox.vue","webpack://chatwpt/./src/components/ChatBox.vue?6089","webpack://chatwpt/./src/components/ChatBox.vue?8b4f","webpack://chatwpt/./src/router/index.js","webpack://chatwpt/./src/store/store.js","webpack://chatwpt/./src/main.js","webpack://chatwpt/webpack/bootstrap","webpack://chatwpt/webpack/runtime/chunk loaded","webpack://chatwpt/webpack/runtime/compat get default export","webpack://chatwpt/webpack/runtime/define property getters","webpack://chatwpt/webpack/runtime/global","webpack://chatwpt/webpack/runtime/hasOwnProperty shorthand","webpack://chatwpt/webpack/runtime/publicPath","webpack://chatwpt/webpack/runtime/jsonp chunk loading","webpack://chatwpt/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-view')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <router-view></router-view>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n};\n</script>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5b3c363d\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full bg-main\"},[_c('div',{staticClass:\"main min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full\"},[_c('TabSelector',{attrs:{\"tab\":_vm.tab},on:{\"tab-selected\":_vm.changeTab}}),(_vm.tab === 'chat')?[_c('div',{ref:\"chatContainer\",staticClass:\"flex-1 p-2 overflow-y-auto pb-2 chatContainer\"},_vm._l((_vm.messages),function(message){return _c('Message',{key:message.id,attrs:{\"message\":message}})}),1),_c('InputBox',{ref:\"inputBox\",attrs:{\"is-thinking\":_vm.isThinking,\"showMode\":true,\"mode\":_vm.mode,\"model\":_vm.model,\"is-deep-thinking\":_vm.isDeepThinking},on:{\"send-message\":_vm.sendMessage,\"scroll-to-bottom\":_vm.scrollToBottom,\"change-mode\":_vm.changeMode,\"toggle-deep-thinking\":_vm.toggleDeepThinking,\"change-model\":_vm.changeModel,\"stop-ai-response\":_vm.stopAIResponse}})]:(_vm.tab === 'image')?[_c('Glm4V')]:(_vm.tab === 'cogview')?[_c('CogView')]:(_vm.tab === 'ragchat')?[_c('RagChat')]:(_vm.tab === 'textvideo')?[_c('VideoGlm')]:(_vm.tab === 'imgvideo')?[_c('VideoImg')]:_vm._e(),_c('FooterBox')],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"model-selector flex justify-center p-4 bg-white\"},[_c('label',{staticClass:\"radio\",on:{\"click\":function($event){return _vm.changeModel('chat')}}},[_c('input',{attrs:{\"type\":\"radio\",\"name\":\"tab\"},domProps:{\"checked\":_vm.tab === 'chat'}}),_c('span',{staticClass:\"name\"},[_vm._v(\"文本对话\")])]),_c('label',{staticClass:\"radio\",on:{\"click\":function($event){return _vm.changeModel('ragchat')}}},[_c('input',{attrs:{\"type\":\"radio\",\"name\":\"tab\"},domProps:{\"checked\":_vm.tab === 'ragchat'}}),_c('span',{staticClass:\"name\"},[_vm._v(\"百炼RAG查前端\")])]),_c('label',{staticClass:\"radio\",on:{\"click\":function($event){return _vm.changeModel('image')}}},[_c('input',{attrs:{\"type\":\"radio\",\"name\":\"tab\"},domProps:{\"checked\":_vm.tab === 'image'}}),_c('span',{staticClass:\"name\"},[_vm._v(\"网页改进\")])]),_c('label',{staticClass:\"radio\",on:{\"click\":function($event){return _vm.changeModel('cogview')}}},[_c('input',{attrs:{\"type\":\"radio\",\"name\":\"tab\"},domProps:{\"checked\":_vm.tab === 'cogview'}}),_c('span',{staticClass:\"name\"},[_vm._v(\"高保真原型图\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"model-selector flex justify-center p-4 bg-white\">\n    <label class=\"radio\" @click=\"changeModel('chat')\">\n      <input type=\"radio\" name=\"tab\" :checked=\"tab === 'chat'\" />\n      <span class=\"name\">文本对话</span>\n    </label>\n    <label class=\"radio\" @click=\"changeModel('ragchat')\">\n      <input type=\"radio\" name=\"tab\" :checked=\"tab === 'ragchat'\" />\n      <span class=\"name\">百炼RAG查前端</span>\n    </label>\n    <label class=\"radio\" @click=\"changeModel('image')\">\n      <input type=\"radio\" name=\"tab\" :checked=\"tab === 'image'\" />\n      <span class=\"name\">网页改进</span>\n    </label>\n    <label class=\"radio\" @click=\"changeModel('cogview')\">\n      <input type=\"radio\" name=\"tab\" :checked=\"tab === 'cogview'\" />\n      <span class=\"name\">高保真原型图</span>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    tab: {\n      type: String,\n      required: true,\n    },\n  },\n  methods: {\n    changeModel(newModel) {\n      this.$emit(\"tab-selected\", newModel);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabSelector.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabSelector.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TabSelector.vue?vue&type=template&id=1407de39\"\nimport script from \"./TabSelector.vue?vue&type=script&lang=js\"\nexport * from \"./TabSelector.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mb-4\"},[_c('div',{class:_vm.messageClass},[(_vm.message.role === 'assistant')?_c('div',{staticClass:\"w-10 h-10 flex items-center justify-center rounded-full\"},[(_vm.roleImgUrl)?_c('img',{staticClass:\"w-full h-full object-cover rounded-full\",attrs:{\"src\":_vm.roleImgUrl}}):_c('IconAI',{attrs:{\"model\":_vm.message.model}})],1):_vm._e(),_c('div',{staticClass:\"flex flex-col relative\",staticStyle:{\"max-width\":\"calc(100% - 50px)\"}},[(_vm.message.role === 'assistant' && !_vm.name)?_c('span',{staticClass:\"text-sm font-medium mb-1\",class:_vm.nameClass},[(_vm.message.model && _vm.showName)?_c('span',{staticClass:\"text-sm font-medium mb-1\",class:_vm.nameClass},[_vm._v(\" \"+_vm._s(_vm.config[_vm.message.model].name)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.message.mode === \"normal\" ? \"💬\" : _vm.message.mode === \"read\" ? \"🖥️\" : _vm.message.mode === \"write\" ? \"⌨️\" : \"\")+\" \")]):(_vm.message.model && _vm.showName)?_c('span',{staticClass:\"text-sm font-medium mb-1\",class:_vm.nameClass},[_vm._v(\" \"+_vm._s(_vm.config[_vm.message.model].name)+\" \")]):_vm._e(),(\n          _vm.message.contentSearchResults &&\n          _vm.message.contentSearchResults.length > 0\n        )?_c('div',{staticClass:\"bg-gray-100 p-3 rounded-lg mb-2 text-sm text-gray-700\"},[_c('div',{staticClass:\"flex items-center justify-between cursor-pointer\",on:{\"click\":_vm.toggleContentSearchResults}},[_c('span',{staticClass:\"font-medium\"},[_vm._v(\"联网查询结果（\"+_vm._s(_vm.message.contentSearchResults.length)+\" 条）\")]),_c('svg',{staticClass:\"h-4 w-4 transition-transform duration-200\",class:{\n              'transform rotate-180': _vm.isContentSearchResultsExpanded,\n            },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M19 9l-7 7-7-7\"}})])]),(_vm.isContentSearchResultsExpanded)?_c('div',{staticClass:\"mt-2\"},[_c('ul',_vm._l((_vm.message.contentSearchResults),function(result,index){return _c('li',{key:index,staticClass:\"mb-1\"},[_c('a',{staticClass:\"text-blue-500 hover:underline\",attrs:{\"href\":result.link,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" \"+_vm._s(index + 1)+\" . \"+_vm._s(result.title || result.url || \"无标题\")+\" \")]),_c('p',{staticClass:\"text-gray-600 text-xs\"},[_vm._v(_vm._s(result.snippet))])])}),0)]):_vm._e()]):_vm._e(),(_vm.message.reasoningContent)?_c('div',{staticClass:\"bg-gray-100 p-3 rounded-lg mb-2 text-sm text-gray-700\"},[_c('div',{staticClass:\"flex items-center justify-between cursor-pointer\",on:{\"click\":_vm.toggleReasoning}},[_c('span',{staticClass:\"font-medium\"},[_vm._v(\"深度思考（\"+_vm._s(_vm.message.reasoningDuration)+\"秒）\")]),_c('svg',{staticClass:\"h-4 w-4 transition-transform duration-200\",class:{ 'transform rotate-180': _vm.isReasoningExpanded },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M19 9l-7 7-7-7\"}})])]),(_vm.isReasoningExpanded)?_c('div',{staticClass:\"mt-2\"},[_c('pre',{staticClass:\"whitespace-pre-wrap\"},[_vm._v(_vm._s(_vm.message.reasoningContent\n              .replace(/\\\\n|\\\\r/g, \"\")\n              .replace(/\\s+/g, \" \")\n              .trim()))])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"relative group text-sm\",class:_vm.bubbleClass,on:{\"mouseenter\":function($event){_vm.showCopyButton = true},\"mouseleave\":function($event){_vm.showCopyButton = false}}},[_vm._l((_vm.splitMixedContent(_vm.message.content)),function(part,index){return _c('div',{key:index},[(part.type === 'code')?_c('CodeBlock',{attrs:{\"code\":part.content,\"language\":_vm.detectLanguage(part.content)}}):_c('div',{staticClass:\"markdown-content\",domProps:{\"innerHTML\":_vm._s(_vm.renderMarkdown(_vm.escapeHtml(part.content)))}})],1)}),(false)?_c('button',{staticClass:\"absolute -top-2 -right-2 p-[3px] bg-white border border-gray-200 rounded-full shadow-sm hover:bg-gray-100 transition-colors duration-200\",on:{\"click\":_vm.handleCopy}},[_c('svg',{staticClass:\"h-4 w-4 text-gray-500\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"}})])]):_vm._e()],2),_c('div',_vm._l((_vm.message.presets),function(presets,index){return _c('p',{key:index,staticClass:\"preset-item cursor-pointer hover:bg-gray-100 p-2 rounded-lg transition-colors duration-200 border border-gray-300\",on:{\"click\":function($event){return _vm.handlePresetClick(presets)}}},[_vm._v(\" \"+_vm._s(presets)+\" \")])}),0)])]),(_vm.message.token)?_c('p',{staticClass:\"w-full ml-[52px] text-xs text-gray-500 mt-1\",staticStyle:{\"width\":\"60%\",\"overflow\":\"hidden\"}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(_vm.message.duration)+\"s\")]),_c('span',{staticStyle:{\"background\":\"#888d92\",\"display\":\"block\",\"height\":\"8px\",\"margin\":\"4px 8px\",\"width\":\"1px\",\"float\":\"left\"}}),_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(_vm.message.token)+\"Token\")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 判断是否为代码\n// export const isCode = content => {\n//     return content.startsWith('```') || /^\\s{4}/.test(content)\n//     // if (!content || typeof content !== 'string') return false\n//     // return content.includes('\\n') || content.includes('function') || content.includes('class')\n// }\nexport function isCode(content) {\n  // 如果内容包含代码块分隔符（``` 或 ~~~），则认为是代码\n  if (/```[\\s\\S]*```|~~~[\\s\\S]*~~~/g.test(content)) {\n    return true;\n  }\n\n  // 如果内容包含明显的代码片段（如 HTML、CSS、JavaScript 等），则认为是代码\n  const codePatterns = [\n    /<[^>]+>/, // HTML 标签\n    /{[^}]+}/, // CSS 样式\n    /function\\s+\\w+\\(/, // JavaScript 函数\n    /console\\.log\\(/, // JavaScript 日志\n  ];\n\n  return codePatterns.some((pattern) => pattern.test(content));\n}\n\nexport function splitMixedContent(content) {\n  const parts = [];\n  const codeBlockRegex = /```([\\s\\S]*?)```|~~~([\\s\\S]*?)~~~/g; // 匹配代码块\n  let lastIndex = 0;\n\n  // 查找所有代码块\n  content.replace(codeBlockRegex, (match, p1, p2, offset) => {\n    // 添加代码块之前的 Markdown 内容\n    if (offset > lastIndex) {\n      parts.push({\n        type: \"markdown\",\n        content: content.slice(lastIndex, offset),\n      });\n    }\n\n    // 添加代码块\n    const codeContent = p1 || p2;\n    parts.push({\n      type: \"code\",\n      content: codeContent,\n    });\n\n    lastIndex = offset + match.length;\n    return match;\n  });\n\n  // 添加剩余的 Markdown 内容\n  if (lastIndex < content.length) {\n    parts.push({\n      type: \"markdown\",\n      content: content.slice(lastIndex),\n    });\n  }\n\n  return parts;\n}\n// 自动调整输入框高度\nexport const autoResizeTextarea = (textarea) => {\n  textarea.style.height = \"auto\";\n  textarea.style.height = `${textarea.scrollHeight}px`;\n};\n\n// 重置输入框高度\nexport const resetTextareaHeight = (textarea) => {\n  textarea.style.height = \"auto\";\n};\n\nexport const generateUniqueId = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon\",style:({\n    boxShadow:\n      _vm.model === 'deepseek' ||\n      _vm.model === 'deepThinking' ||\n      _vm.model === 'stepfunChat' ||\n      _vm.model === 'shuinifengxin' ||\n      _vm.model === 'llama' ||\n      _vm.model === 'gemma' ||\n      _vm.model === 'mistral'\n        ? '0 0 0 1px #f0f0f0'\n        : '',\n  })},[(_vm.model == 'deepseek' || _vm.model == 'deepThinking')?_c('svg',{attrs:{\"viewBox\":\"0 0 30 30\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\"}},[_c('path',{attrs:{\"id\":\"path\",\"d\":\"M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z\",\"fill-rule\":\"nonzero\",\"fill\":\"#4D6BFE\"}})]):(_vm.modelInfo && _vm.modelInfo.img)?_c('img',{attrs:{\"src\":_vm.modelInfo.img}}):_c('img',{attrs:{\"src\":require(\"@/assets/robot.png\")}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 不同模型的 API 配置\nexport const API_CONFIG = {\n  deepseek: {\n    // 官方\n    name: \"DeepSeek\",\n    apiUrl: \"https://api.deepseek.com/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_DEEPSEEK_API_KEY,\n    modelName: \"deepseek-chat\",\n    temperature: 0.6,\n    // openrouter\n    // name: 'DeepSeek',\n    // apiUrl: 'https://openrouter.ai/api/v1/chat/completions',\n    // apiKey: process.env.VUE_APP_OPENROUTER_API_KEY,\n    // modelName: 'deepseek/deepseek-chat:free',\n    // temperature: 0.6\n  },\n  // 深度思考\n  deepThinking: {\n    // 官方\n    name: \"DeepSeek-R1\",\n    apiUrl: \"https://api.deepseek.com/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_DEEPSEEK_API_KEY,\n    modelName: \"deepseek-reasoner\",\n    temperature: 0.2,\n    max_tokens: 16384,\n    // openrouter\n    // name: 'DeepSeek',\n    // apiUrl: 'https://openrouter.ai/api/v1/chat/completions',\n    // apiKey: process.env.VUE_APP_OPENROUTER_API_KEY,\n    // modelName: 'deepseek/deepseek-r1:free',\n    // temperature: 0.6\n  },\n  gemini: {\n    name: \"Gemini\",\n    apiUrl: \"https://my-openai-gemini-demo.vercel.app/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_GEMINI_API_KEY,\n    // modelName: 'gemini-2.0-flash-exp',\n    // modelName: 'gemini-1.5-pro-latest',\n    modelName: \"gemini-2.0-flash\",\n    // modelName: 'gemini-2.0-flash-lite-preview-02-05',\n    // modelName: 'gemini-2.0-flash-thinking-exp',\n    temperature: 0.8,\n  },\n  bigmodel: {\n    name: \"智谱清言\",\n    apiUrl: \"https://open.bigmodel.cn/api/paas/v4/chat/completions\",\n    apiKey: process.env.VUE_APP_GLM_API_KEY,\n    modelName: \"glm-4v-flash\",\n    temperature: 0.8,\n  },\n  bigmodelCogview: {\n    name: \"智谱清言\",\n    apiUrl: \"https://open.bigmodel.cn/api/paas/v4/images/generations\",\n    apiKey: process.env.VUE_APP_GLM_API_KEY,\n    modelName: \"cogview-3-flash\",\n    temperature: 0.8,\n  },\n  bigmodelCogVideo: {\n    name: \"智谱清言\",\n    apiUrl: \"https://open.bigmodel.cn/api/paas/v4/videos/generations\",\n    apiKey: process.env.VUE_APP_GLM_API_KEY,\n    modelName: \"cogvideox-flash\",\n    temperature: 0.8,\n  },\n  kimi: {\n    name: \"KIMI\",\n    apiUrl: \"https://api.moonshot.cn/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_KIMI_API_KEY,\n    modelName: \"moonshot-v1-32k\",\n    temperature: 0.8,\n  },\n  kimiFile: {\n    apiUrl: \"https://api.moonshot.cn/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_KIMI_API_KEY,\n    modelName: \"moonshot-v1-32k-vision-preview\",\n    temperature: 0.7,\n  },\n  baichuan: {\n    name: \"百川智能\",\n    apiUrl: \"https://api.baichuan-ai.com/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_BAICHUAN_API_KEY,\n    modelName: \"Baichuan4-Turbo\",\n    temperature: 0.6,\n  },\n  stepfunChat: {\n    name: \"阶跃星辰\",\n    apiUrl: \"https://api.stepfun.com/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_STEPFUN_API_KEY,\n    modelName: \"step-1-flash\",\n    temperature: 0.8,\n  },\n  stepfun: {\n    name: \"阶跃星辰\",\n    apiUrl: \"https://api.stepfun.com/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_STEPFUN_API_KEY,\n    modelName: \"step-1o-turbo-vision\",\n    temperature: 0.8,\n  },\n  stepfunTTS: {\n    name: \"阶跃星辰\",\n    apiUrl: \"https://api.stepfun.com/v1/audio/speech\",\n    apiKey: process.env.VUE_APP_STEPFUN_API_KEY,\n    modelName: \"step-tts-mini\",\n  },\n  lingyiwanwu: {\n    name: \"零一万物\",\n    apiUrl: \"https://api.lingyiwanwu.com/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_LYWW_API_KEY,\n    modelName: \"yi-lightning\",\n    temperature: 0.8,\n  },\n  qwen: {\n    name: \"通义千问-Plus\",\n    apiUrl:\n      \"https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_QWEN_API_KEY,\n    modelName: \"qwen-plus\",\n    temperature: 0.8,\n  },\n  minimax: {\n    name: \"MINIMAX\",\n    apiUrl: \"https://api.minimax.chat/v1/text/chatcompletion_v2\",\n    apiKey: process.env.VUE_APP_MINIMAX_API_KEY,\n    modelName: \"MiniMax-Text-01\",\n    temperature: 0.1,\n  },\n  gpt4o_mini: {\n    name: \"GPT4o-mini\",\n    apiUrl: \"https://api.chatanywhere.tech/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_GPT4omini_API_KEY,\n    modelName: \"gpt-4o-mini\",\n    temperature: 0.6,\n  },\n  qwq: {\n    name: \"通义千问-QwQ\",\n    apiUrl:\n      \"https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions\",\n    apiKey: process.env.VUE_APP_QWEN_API_KEY,\n    modelName: \"qwq-32b\",\n    temperature: 0.6,\n  },\n};\n\n// 展示不同的模型\nexport const showModels = [\n  {\n    name: \"DeepSeek-R1\",\n    model: \"deepseek\",\n    description: \"由DeepSeek官方提供\",\n    img: require(\"@/assets/deepseek.png\"),\n  },\n  {\n    name: \"KIMI\",\n    model: \"kimi\",\n    description: \"由月之暗面官方提供\",\n    img: require(\"@/assets/kimi.png\"),\n  },\n  {\n    name: \"智谱清言\",\n    model: \"bigmodel\",\n    description: \"由智谱清言官方提供\",\n    img: require(\"@/assets/zhipu.png\"),\n  },\n  {\n    name: \"阶跃星辰\",\n    model: \"stepfunChat\",\n    description: \"由阶跃星辰官方提供\",\n    img: require(\"@/assets/stepfunChat.png\"),\n  },\n  {\n    name: \"通义千问-Plus\",\n    model: \"qwen\",\n    description: \"由阿里云官方提供\",\n    img: require(\"@/assets/qwen.jpg\"),\n  },\n  {\n    name: \"通义千问-QwQ\",\n    model: \"qwq\",\n    description: \"由阿里云官方提供\",\n    img: require(\"@/assets/qwen.jpg\"),\n  },\n  {\n    name: \"百炼-前端面试RAG\",\n    model: \"ragchat\",\n    description: \"由本人在百炼平台搭建\",\n    img: require(\"@/assets/qwen.jpg\"),\n  },\n  {\n    name: \"Baichuan4-Turbo\",\n    model: \"baichuan\",\n    description: \"由百川智能官方提供\",\n    img: require(\"@/assets/baishuan.png\"),\n  },\n  {\n    name: \"零一万物\",\n    model: \"lingyiwanwu\",\n    description: \"由零一万物官方提供\",\n    img: require(\"@/assets/lingyiwanwu.svg\"),\n  },\n  {\n    name: \"GPT4o-mini\",\n    model: \"gpt4o_mini\",\n    description: \"由ChatAnywhere提供\",\n    img: require(\"@/assets/gpt4o.png\"),\n  },\n  {\n    name: \"Gemini\",\n    model: \"gemini\",\n    description: \"由openai-gemini提供\",\n    img: require(\"@/assets/gemini.jpg\"),\n  },\n  {\n    name: \"MiniMax\",\n    model: \"minimax\",\n    description: \"由MiniMax官方提供\",\n    img: require(\"@/assets/minimax.webp\"),\n  },\n];\n\nexport const fetchAIResponse = async (\n  apiUrl,\n  apiKey,\n  modelName,\n  messages,\n  temperature = 1,\n  stream = false,\n  onDataReceived,\n  controller\n) => {\n  // 构建请求体\n  //console.log('apiKey:', apiKey)\n  //console.log('apiUrl:', apiUrl)\n  //console.log('modelName:', modelName)\n  const requestBody = {\n    model: modelName,\n    messages,\n    stream, // 根据 stream 参数决定是否启用流式响应\n  };\n\n  // 如果不是 deepThinking 模型，添加 temperature 参数\n  if (modelName !== \"deepseek-reasoner\") {\n    requestBody.temperature = temperature;\n  }\n\n  // 记录请求开始时间\n  const startTime = performance.now();\n\n  const response = await fetch(apiUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${apiKey}`,\n    },\n    body: JSON.stringify(requestBody), // 使用动态构建的请求体\n    signal: controller.signal, // 关联 AbortController\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! Status: ${response.status}`);\n  }\n\n  // 如果 stream 为 false，直接返回完整的响应数据\n  if (!stream) {\n    const data = await response.json();\n    const endTime = performance.now();\n    const totalDuration = parseFloat(((endTime - startTime) / 1000).toFixed(1)); // 计算总耗时，保留 1 位小数\n    onDataReceived({ type: \"complete\", duration: totalDuration }); // 传递总耗时\n    return data;\n  }\n\n  // 处理流式响应\n  const reader = response.body.getReader();\n  const decoder = new TextDecoder(\"utf-8\");\n  let buffer = \"\";\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      const endTime = performance.now();\n      const totalDuration = parseFloat(\n        ((endTime - startTime) / 1000).toFixed(1)\n      ); // 计算总耗时，保留 1 位小数\n      onDataReceived({ type: \"complete\", duration: totalDuration }); // 传递总耗时\n      break;\n    }\n\n    buffer += decoder.decode(value, { stream: true });\n\n    const lines = buffer.split(\"\\n\");\n    buffer = lines.pop();\n\n    for (const line of lines) {\n      if (line.trim() === \"data: [DONE]\") {\n        return;\n      }\n\n      if (line.startsWith(\"data: \")) {\n        const jsonData = line.slice(6);\n        try {\n          const data = JSON.parse(jsonData);\n          if (data.choices && data.choices[0].delta) {\n            const delta = data.choices[0].delta;\n            const currentDuration = parseFloat(\n              ((performance.now() - startTime) / 1000).toFixed(2)\n            );\n\n            if (delta.reasoning_content || delta.reasoning) {\n              const tokenCount = calculateTokenCount(\n                delta.reasoning_content || delta.reasoning\n              );\n              onDataReceived({\n                type: \"reasoning\",\n                content: delta.reasoning_content || delta.reasoning,\n                token: tokenCount,\n                duration: currentDuration,\n              });\n            } else if (delta.content) {\n              const tokenCount = calculateTokenCount(delta.content);\n              onDataReceived({\n                type: \"content\",\n                content: delta.content,\n                token: tokenCount,\n                duration: currentDuration,\n              });\n            }\n          }\n        } catch (error) {\n          console.error(\"Error parsing JSON:\", error);\n        }\n      }\n    }\n  }\n};\n\n// TTS\nexport const fetchTTS = async (apiUrl, apiKey, modelName, input, voice) => {\n  const requestBody = {\n    model: modelName,\n    voice: voice,\n    input: input,\n  };\n\n  const response = await fetch(apiUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${apiKey}`,\n    },\n    body: JSON.stringify(requestBody),\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! Status: ${response.status}`);\n  }\n\n  // 获取音频数据\n  const blob = await response.blob();\n  return blob;\n};\n\n// 计算 token 数量的函数\nconst calculateTokenCount = (text) => {\n  const englishChars = text.match(/[a-zA-Z]/g) || [];\n  const chineseChars = text.match(/[\\u4e00-\\u9fa5]/g) || [];\n  const tokenCount = englishChars.length * 0.3 + chineseChars.length * 0.6;\n  return parseFloat(tokenCount.toFixed(4)); // 保留 4 位小数并转换为数字\n};\n","<template>\n  <div\n    class=\"icon\"\n    :style=\"{\n      boxShadow:\n        model === 'deepseek' ||\n        model === 'deepThinking' ||\n        model === 'stepfunChat' ||\n        model === 'shuinifengxin' ||\n        model === 'llama' ||\n        model === 'gemma' ||\n        model === 'mistral'\n          ? '0 0 0 1px #f0f0f0'\n          : '',\n    }\"\n  >\n    <svg\n      v-if=\"model == 'deepseek' || model == 'deepThinking'\"\n      viewBox=\"0 0 30 30\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <path\n        id=\"path\"\n        d=\"M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z\"\n        fill-rule=\"nonzero\"\n        fill=\"#4D6BFE\"\n      ></path>\n    </svg>\n    <img v-else-if=\"modelInfo && modelInfo.img\" :src=\"modelInfo.img\" />\n    <img v-else src=\"@/assets/robot.png\" />\n  </div>\n</template>\n\n<script>\nimport { showModels } from \"../../utils/api\";\nexport default {\n  props: {\n    model: {\n      type: String,\n      required: false,\n    },\n  },\n  computed: {\n    modelInfo() {\n      return showModels.find((m) => m.model === this.model);\n    },\n  },\n};\n</script>\n<style scoped>\n.icon {\n  background-color: #fff;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  padding: 2px;\n\n  height: 36px;\n  display: flex;\n}\n.icon img {\n  border-radius: 50%;\n}\n.loader {\n  --size: 40px;\n  --duration: 2s;\n  --logo-color: grey;\n  --background: linear-gradient(\n    0deg,\n    rgba(50, 50, 50, 0.2) 0%,\n    rgba(100, 100, 100, 0.2) 100%\n  );\n  height: var(--size);\n  aspect-ratio: 1;\n  position: relative;\n  margin-top: 6px;\n  z-index: -1;\n}\n\n.loader .box {\n  position: absolute;\n  background: rgba(100, 100, 100, 0.15);\n  background: var(--background);\n  border-radius: 50%;\n  backdrop-filter: blur(5px);\n  animation: ripple var(--duration) infinite ease-in-out;\n}\n\n.loader .box:nth-child(1) {\n  inset: 40%;\n  z-index: 99;\n}\n\n.loader .box:nth-child(2) {\n  inset: 30%;\n  z-index: 98;\n  border-color: rgba(100, 100, 100, 0.8);\n  animation-delay: 0.2s;\n}\n\n.loader .box:nth-child(3) {\n  inset: 20%;\n  z-index: 97;\n  border-color: rgba(100, 100, 100, 0.6);\n  animation-delay: 0.4s;\n}\n\n.loader .box:nth-child(4) {\n  inset: 10%;\n  z-index: 96;\n  border-color: rgba(100, 100, 100, 0.4);\n  animation-delay: 0.6s;\n}\n\n.loader .box:nth-child(5) {\n  inset: 0%;\n  z-index: 95;\n  border-color: rgba(100, 100, 100, 0.2);\n  animation-delay: 0.8s;\n}\n\n.loader .logo {\n  position: absolute;\n  inset: 0;\n  display: grid;\n  place-content: center;\n  padding: 30%;\n}\n\n.loader .logo svg {\n  fill: var(--logo-color);\n  width: 100%;\n  animation: color-change var(--duration) infinite ease-in-out;\n}\n\n@keyframes ripple {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes color-change {\n  0% {\n    fill: var(--logo-color);\n  }\n  50% {\n    fill: white;\n  }\n  100% {\n    fill: var(--logo-color);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IconAI.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IconAI.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconAI.vue?vue&type=template&id=13b4fc66&scoped=true\"\nimport script from \"./IconAI.vue?vue&type=script&lang=js\"\nexport * from \"./IconAI.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconAI.vue?vue&type=style&index=0&id=13b4fc66&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13b4fc66\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"code-block\"},[_c('pre',[_c('code',{ref:\"code\",class:_vm.languageClass},[_vm._v(_vm._s(_vm.formattedCode))])]),(!_vm.isCopied)?_c('svg',{staticClass:\"h-5 w-5 text-gray-500 absolute top-2 right-2 cursor-pointer copy-button\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"},on:{\"click\":_vm.copyCode}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"}})]):_c('svg',{staticClass:\"h-5 w-5 text-green-500 absolute top-2 right-2 cursor-pointer copy-button\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M5 13l4 4L19 7\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","vue\n<template>\n  <div class=\"code-block\">\n    <!-- 代码块 -->\n    <pre><code ref=\"code\" :class=\"languageClass\">{{ formattedCode }}</code></pre>\n    <!-- 复制按钮 -->\n    <svg\n      v-if=\"!isCopied\"\n      @click=\"copyCode\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"h-5 w-5 text-gray-500 absolute top-2 right-2 cursor-pointer copy-button\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n    >\n      <path\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        stroke-width=\"2\"\n        d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n      />\n    </svg>\n    <!-- 成功图标 -->\n    <svg\n      v-else\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"h-5 w-5 text-green-500 absolute top-2 right-2 cursor-pointer copy-button\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n    >\n      <path\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        stroke-width=\"2\"\n        d=\"M5 13l4 4L19 7\"\n      />\n    </svg>\n  </div>\n</template>\n<script>\nimport hljs from \"highlight.js\"; // 引入 highlight.js\nimport \"highlight.js/styles/atom-one-dark.css\"; // 引入黑色主题样式\nimport Clipboard from \"clipboard\"; // 引入 clipboard 库\nexport default {\n  props: {\n    code: {\n      type: String,\n      required: true,\n    },\n    language: {\n      type: String,\n      default: \"plaintext\", // 默认语言为纯文本\n    },\n    showCopyButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      isCopied: false, // 控制是否显示成功图标\n    };\n  },\n  computed: {\n    // 根据语言动态设置高亮类\n    languageClass() {\n      return `language-${this.language}`;\n    },\n    // 保留换行符的代码\n    formattedCode() {\n      return this.code; // 直接返回代码内容，确保换行符被保留\n    },\n  },\n  mounted() {\n    // 初始化代码高亮\n    this.highlightCode();\n  },\n  methods: {\n    // 高亮代码\n    highlightCode() {\n      const codeElement = this.$refs.code;\n      if (codeElement) {\n        hljs.highlightBlock(codeElement);\n      }\n    },\n    // 复制代码\n    copyCode() {\n      const clipboard = new Clipboard(\".copy-button\", {\n        text: () => this.code,\n      });\n      clipboard.on(\"success\", () => {\n        this.isCopied = true; // 显示成功图标\n        setTimeout(() => {\n          this.isCopied = false; // 3 秒后恢复为复制图标\n        }, 3000);\n        clipboard.destroy(); // 销毁 clipboard 实例\n      });\n      clipboard.on(\"error\", () => {\n        console.log(\"复制失败，请手动复制。\");\n        clipboard.destroy(); // 销毁 clipboard 实例\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n.code-block {\n  position: relative;\n  background: #282c34; /* 黑色主题背景色 */\n  border-radius: 6px;\n  padding: 10px;\n  margin: 16px 0;\n}\npre {\n  margin: 0;\n  overflow-x: auto; /* 水平滚动 */\n  white-space: pre-wrap; /* 保留换行符 */\n  word-wrap: break-word; /* 长单词换行 */\n}\ncode {\n  display: block; /* 确保代码块独占一行 */\n  font-family: \"Courier New\", Courier, monospace; /* 等宽字体 */\n  font-size: 14px;\n  line-height: 1.5;\n}\npre code.hljs {\n  padding: 0 !important;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CodeBlock.vue?vue&type=template&id=3cea991a&scoped=true\"\nimport script from \"./CodeBlock.vue?vue&type=script&lang=js\"\nexport * from \"./CodeBlock.vue?vue&type=script&lang=js\"\nimport style0 from \"./CodeBlock.vue?vue&type=style&index=0&id=3cea991a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cea991a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"mb-4\">\n    <div :class=\"messageClass\">\n      <div\n        v-if=\"message.role === 'assistant'\"\n        class=\"w-10 h-10 flex items-center justify-center rounded-full\"\n      >\n        <img\n          class=\"w-full h-full object-cover rounded-full\"\n          v-if=\"roleImgUrl\"\n          :src=\"roleImgUrl\"\n        />\n        <IconAI v-else :model=\"message.model\" />\n      </div>\n      <div class=\"flex flex-col relative\" style=\"max-width: calc(100% - 50px)\">\n        <span\n          v-if=\"message.role === 'assistant' && !name\"\n          class=\"text-sm font-medium mb-1\"\n          :class=\"nameClass\"\n        >\n          <span\n            v-if=\"message.model && showName\"\n            class=\"text-sm font-medium mb-1\"\n            :class=\"nameClass\"\n          >\n            {{ config[message.model].name }}\n          </span>\n          {{\n            message.mode === \"normal\"\n              ? \"💬\"\n              : message.mode === \"read\"\n              ? \"🖥️\"\n              : message.mode === \"write\"\n              ? \"⌨️\"\n              : \"\"\n          }}\n        </span>\n\n        <span\n          v-else-if=\"message.model && showName\"\n          class=\"text-sm font-medium mb-1\"\n          :class=\"nameClass\"\n        >\n          {{ config[message.model].name }}\n        </span>\n\n        <!-- 可折叠的联网查询结果 (Content) -->\n        <div\n          v-if=\"\n            message.contentSearchResults &&\n            message.contentSearchResults.length > 0\n          \"\n          class=\"bg-gray-100 p-3 rounded-lg mb-2 text-sm text-gray-700\"\n        >\n          <div\n            class=\"flex items-center justify-between cursor-pointer\"\n            @click=\"toggleContentSearchResults\"\n          >\n            <span class=\"font-medium\"\n              >联网查询结果（{{\n                message.contentSearchResults.length\n              }}\n              条）</span\n            >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              class=\"h-4 w-4 transition-transform duration-200\"\n              :class=\"{\n                'transform rotate-180': isContentSearchResultsExpanded,\n              }\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M19 9l-7 7-7-7\"\n              />\n            </svg>\n          </div>\n          <div v-if=\"isContentSearchResultsExpanded\" class=\"mt-2\">\n            <ul>\n              <li\n                v-for=\"(result, index) in message.contentSearchResults\"\n                :key=\"index\"\n                class=\"mb-1\"\n              >\n                <a\n                  :href=\"result.link\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  class=\"text-blue-500 hover:underline\"\n                >\n                  {{ index + 1 }} . {{ result.title || result.url || \"无标题\" }}\n                </a>\n                <p class=\"text-gray-600 text-xs\">{{ result.snippet }}</p>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <!-- 可折叠的思维链内容 -->\n        <div\n          v-if=\"message.reasoningContent\"\n          class=\"bg-gray-100 p-3 rounded-lg mb-2 text-sm text-gray-700\"\n        >\n          <div\n            class=\"flex items-center justify-between cursor-pointer\"\n            @click=\"toggleReasoning\"\n          >\n            <span class=\"font-medium\"\n              >深度思考（{{ message.reasoningDuration }}秒）</span\n            >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              class=\"h-4 w-4 transition-transform duration-200\"\n              :class=\"{ 'transform rotate-180': isReasoningExpanded }\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M19 9l-7 7-7-7\"\n              />\n            </svg>\n          </div>\n          <div v-if=\"isReasoningExpanded\" class=\"mt-2\">\n            <pre class=\"whitespace-pre-wrap\">{{\n              message.reasoningContent\n                .replace(/\\\\n|\\\\r/g, \"\")\n                .replace(/\\s+/g, \" \")\n                .trim()\n            }}</pre>\n          </div>\n        </div>\n\n        <!-- 最终回答内容 -->\n        <div\n          :class=\"bubbleClass\"\n          class=\"relative group text-sm\"\n          @mouseenter=\"showCopyButton = true\"\n          @mouseleave=\"showCopyButton = false\"\n        >\n          <!-- 拆分混合内容并分别渲染 -->\n          <div\n            v-for=\"(part, index) in splitMixedContent(message.content)\"\n            :key=\"index\"\n          >\n            <!-- 如果是代码，使用 CodeBlock 组件 -->\n            <CodeBlock\n              v-if=\"part.type === 'code'\"\n              :code=\"part.content\"\n              :language=\"detectLanguage(part.content)\"\n            />\n            <!-- 否则解析为 Markdown -->\n            <div\n              v-else\n              v-html=\"renderMarkdown(escapeHtml(part.content))\"\n              class=\"markdown-content\"\n            ></div>\n          </div>\n          <!-- 复制按钮 -->\n          <button\n            v-if=\"false\"\n            @click=\"handleCopy\"\n            class=\"absolute -top-2 -right-2 p-[3px] bg-white border border-gray-200 rounded-full shadow-sm hover:bg-gray-100 transition-colors duration-200\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              class=\"h-4 w-4 text-gray-500\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <div>\n          <p\n            v-for=\"(presets, index) in message.presets\"\n            :key=\"index\"\n            class=\"preset-item cursor-pointer hover:bg-gray-100 p-2 rounded-lg transition-colors duration-200 border border-gray-300\"\n            @click=\"handlePresetClick(presets)\"\n          >\n            {{ presets }}\n          </p>\n        </div>\n      </div>\n    </div>\n    <p\n      class=\"w-full ml-[52px] text-xs text-gray-500 mt-1\"\n      v-if=\"message.token\"\n      style=\"width: 60%; overflow: hidden\"\n    >\n      <span style=\"float: left\">{{ message.duration }}s</span>\n      <span\n        style=\"\n          background: #888d92;\n          display: block;\n          height: 8px;\n          margin: 4px 8px;\n          width: 1px;\n          float: left;\n        \"\n      ></span>\n      <span style=\"float: left\">{{ message.token }}Token</span>\n    </p>\n  </div>\n</template>\n\n<script>\nimport { marked } from \"marked\"; // 引入 marked\nimport { splitMixedContent, isCode } from \"../../utils/helpers\";\nimport IconAI from \"../IconBox/IconAI.vue\";\nimport CodeBlock from \"../CodeBlock.vue\"; // 引入 CodeBlock 组件\n\nimport { API_CONFIG } from \"../../utils/api\";\nexport default {\n  components: {\n    IconAI,\n    CodeBlock,\n  },\n  props: {\n    message: {\n      type: Object,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: false,\n    },\n    showName: {\n      type: Boolean,\n      default: true,\n    },\n    roleImgUrl: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      showCopyButton: false, // 控制复制按钮的显示\n      isReasoningExpanded: !!this.message.reasoningContent, // 默认展开（如果 reasoningContent 存在）\n      config: API_CONFIG,\n      isContentSearchResultsExpanded: false, // 默认不展开（如果 contentSearchResults 存在）\n    };\n  },\n  watch: {\n    \"message.reasoningContent\": {\n      handler(newVal) {\n        if (newVal) {\n          this.isReasoningExpanded = true; // 有内容时自动展开\n        }\n      },\n      immediate: true, // 立即触发监听\n    },\n  },\n  computed: {\n    messageClass() {\n      return this.message.role === \"user\"\n        ? \"flex justify-end items-start gap-2\"\n        : \"flex justify-start items-start gap-2\";\n    },\n    bubbleClass() {\n      return this.message.role === \"user\"\n        ? \"bg-blue-500 text-white rounded-lg p-3 \"\n        : \"bg-[#f1f1f1] text-gray-800 rounded-lg p-3 \";\n    },\n    nameClass() {\n      return this.message.role === \"user\"\n        ? \"text-right text-blue-500\"\n        : \"text-left text-gray-600\";\n    },\n  },\n  methods: {\n    isCode,\n    handlePresetClick(preset) {\n      this.$emit(\"preset-click\", preset);\n    },\n    handleCopy() {\n      const content = this.message.content;\n      if (navigator.clipboard) {\n        navigator.clipboard\n          .writeText(content)\n          .then(() => {\n            console.log(\"内容已复制到剪贴板！\");\n          })\n          .catch(() => {\n            this.fallbackCopyText(content);\n          });\n      } else {\n        this.fallbackCopyText(content);\n      }\n    },\n    fallbackCopyText(text) {\n      const textArea = document.createElement(\"textarea\");\n      textArea.value = text;\n      textArea.style.position = \"fixed\";\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n\n      try {\n        const successful = document.execCommand(\"copy\");\n        if (successful) {\n          console.log(\"内容已复制到剪贴板！\");\n        } else {\n          console.log(\"复制失败，请手动复制。\");\n        }\n      } catch (err) {\n        console.log(\"复制失败，请手动复制。\");\n      }\n\n      document.body.removeChild(textArea);\n    },\n    toggleReasoning() {\n      this.isReasoningExpanded = !this.isReasoningExpanded;\n    },\n    toggleContentSearchResults() {\n      this.isContentSearchResultsExpanded =\n        !this.isContentSearchResultsExpanded;\n    },\n    // 解析 Markdown 内容\n    renderMarkdown(content) {\n      return marked.parse(content); // 使用 marked 解析 Markdown\n    },\n    // 检测代码语言\n    detectLanguage(content) {\n      if (content.startsWith(\"```\")) {\n        const language = content.split(\"\\n\")[0].replace(/```/, \"\").trim();\n        return language || \"javascript\";\n      }\n      return \"javascript\";\n    },\n    // 拆分混合内容\n    splitMixedContent(content) {\n      return splitMixedContent(content);\n    },\n    // HTML 实体编码函数\n    escapeHtml(text) {\n      const map = {\n        \"&\": \"&amp;\",\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#039;\",\n      };\n\n      return text.replace(/[&<>\"']/g, function (m) {\n        return map[m];\n      });\n    },\n  },\n};\n</script>\n<style scoped>\nul li {\n  list-style: none;\n}\nul {\n  padding-left: 0;\n}\n.preset-item {\n  margin: 4px 0;\n  color: #4a5568; /* 预设文本颜色 */\n  font-size: 0.875rem; /* 预设文本大小 */\n  border: 1px solid #e2e8f0; /* 边框颜色 */\n}\n\n.preset-item:hover {\n  background-color: #f7fafc; /* 悬停背景色 */\n  border-color: #cbd5e0; /* 悬停时边框颜色加深 */\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessageBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessageBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MessageBox.vue?vue&type=template&id=35844efa&scoped=true\"\nimport script from \"./MessageBox.vue?vue&type=script&lang=js\"\nexport * from \"./MessageBox.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessageBox.vue?vue&type=style&index=0&id=35844efa&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35844efa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},[(_vm.showMode)?_c('div',{staticClass:\"flex items-center justify-between\"},[_c('button',{staticClass:\"bg-[#ffffff] model-select inline-flex items-center cursor-pointer px-2 py-1 ml-1 rounded-full transition-colors\",staticStyle:{\"border\":\"1px solid #d9d9d9\"},on:{\"click\":_vm.openModelDialog}},[_c('img',{staticClass:\"w-5 h-5 rounded-full border-gray-300\",attrs:{\"src\":_vm.selectedModelImg}}),_c('span',{staticClass:\"pl-1\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\" \"+_vm._s(_vm.selectedModel)+\" \")]),_c('svg',{staticClass:\"icon\",class:{ 'rotate-180': _vm.isShareDialogOpen },staticStyle:{\"transition\":\"transform 0.2s ease\"},attrs:{\"t\":\"1740124860020\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"5352\",\"width\":\"16\",\"height\":\"16\"}},[_c('path',{attrs:{\"d\":\"M512 574.72l-183.168-183.168a10.666667 10.666667 0 0 0-15.082667 0l-30.165333 30.165333a10.666667 10.666667 0 0 0 0 15.082667l198.250667 198.250667a42.666667 42.666667 0 0 0 60.330666 0l198.250667-198.250667a10.666667 10.666667 0 0 0 0-15.082667l-30.165333-30.165333a10.666667 10.666667 0 0 0-15.082667 0L512 574.698667z\",\"fill\":\"#313233\",\"p-id\":\"5353\"}})])]),_c('div',{staticClass:\"w-1/2 flex justify-end\"},[_c('div',[_c('label',{staticClass:\"inline-block cursor-pointer radio\",staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":function($event){return _vm.changeMode('normal')}}},[_c('input',{staticClass:\"hidden peer\",attrs:{\"type\":\"radio\",\"name\":\"radio\"},domProps:{\"checked\":_vm.mode === 'normal'}}),_c('span',{staticClass:\"relative text-sm transition-all duration-300 peer-checked:font-bold peer-checked:text-black text-gray-400\"},[_c('span',{class:{ 'filter grayscale': _vm.mode !== 'normal' }},[_vm._v(\"💬\")]),_vm._v(\" 日常对话 \")])]),_c('label',{staticClass:\"inline-block cursor-pointer radio\",staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":function($event){return _vm.changeMode('read')}}},[_c('input',{staticClass:\"hidden peer\",attrs:{\"type\":\"radio\",\"name\":\"radio\"},domProps:{\"checked\":_vm.mode === 'read'}}),_c('span',{staticClass:\"relative text-sm transition-all duration-300 peer-checked:font-bold peer-checked:text-black text-gray-400\"},[_c('span',{class:{ 'filter grayscale': _vm.mode !== 'read' }},[_vm._v(\"🖥️\")]),_vm._v(\" 代码优化 \")])]),_c('label',{staticClass:\"inline-block cursor-pointer radio\",staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":function($event){return _vm.changeMode('write')}}},[_c('input',{staticClass:\"hidden peer\",attrs:{\"type\":\"radio\",\"name\":\"radio\"},domProps:{\"checked\":_vm.mode === 'write'}}),_c('span',{staticClass:\"relative text-sm transition-all duration-300 peer-checked:font-bold peer-checked:text-black text-gray-400\"},[_c('span',{class:{ 'filter grayscale': _vm.mode !== 'write' }},[_vm._v(\"⌨️\")]),_vm._v(\" 代码书写 \")])])])]),(_vm.isShareDialogOpen)?_c('div',{staticClass:\"propup fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.isShareDialogOpen = false}}},[_c('div',{staticClass:\"bg-white rounded-lg p-6 shadow-lg w-96 md:w-[600px]\"},[_c('div',{staticClass:\"flex flex-col items-left\"},[_c('h2',{staticClass:\"text-md font-semibold text-gray-800 mb-4\"},[_vm._v(\"模型选择\")]),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"grid gap-2 grid-cols-2 md:grid-cols-3 lg:grid-cols-3\"},_vm._l((_vm.models),function(model){return _c('label',{key:model.name,staticClass:\"relative group flex items-center p-2 rounded-md border border-gray-300 cursor-pointer hover:shadow-md transition-shadow focus:outline-none peer-checked:bg-blue-100 peer-checked:border-blue-500\",class:{ 'border-blue-500': _vm.selectedModel === model.name },on:{\"click\":function($event){return _vm.changeModel(model)}}},[_c('input',{staticClass:\"peer sr-only\",attrs:{\"type\":\"radio\",\"name\":\"model\",\"value\":\"model1\",\"aria-hidden\":\"true\"}}),_c('img',{staticClass:\"w-5 h-5 mr-2 rounded border-gray-300\",attrs:{\"src\":model.img,\"alt\":\"Model 1 Icon\"}}),_c('span',{staticClass:\"text-gray-700 text-sm\"},[_vm._v(\" \"+_vm._s(model.name)+\" \"),_c('p',{staticClass:\"text-[10px] text-gray-400\"},[_vm._v(\" \"+_vm._s(model.description)+\" \")])]),(_vm.selectedModel === model.name)?_c('span',{staticClass:\"text-green-500 ml-1 absolute right-2\"},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1740124477021\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"3639\",\"width\":\"25\",\"height\":\"25\"}},[_c('path',{attrs:{\"d\":\"M512 126.464c212.48 0 385.536 173.056 385.536 385.536s-173.056 385.536-385.536 385.536-385.536-173.056-385.536-385.536S299.52 126.464 512 126.464m0-20.48c-224.256 0-406.016 181.76-406.016 406.016s181.76 406.016 406.016 406.016 406.016-181.76 406.016-406.016-181.76-406.016-406.016-406.016z\",\"fill\":\"#4E63DD\",\"opacity\":\".1\",\"p-id\":\"3640\"}}),_c('path',{attrs:{\"d\":\"M323.584 512a188.416 188.416 0 1 0 376.832 0 188.416 188.416 0 1 0-376.832 0Z\",\"fill\":\"#4E63DD\",\"opacity\":\".5\",\"p-id\":\"3641\"}}),_c('path',{attrs:{\"d\":\"M512 374.784c36.864 0 71.168 14.336 97.28 40.448s40.448 60.416 40.448 97.28c0 75.776-61.44 137.216-137.216 137.216-36.864 0-71.168-14.336-97.28-40.448s-40.448-60.416-40.448-97.28c0-75.776 61.44-137.216 137.216-137.216m0-51.2c-103.936 0-188.416 84.48-188.416 188.416s84.48 188.416 188.416 188.416 188.416-84.48 188.416-188.416-84.48-188.416-188.416-188.416z\",\"fill\":\"#4E63DD\",\"p-id\":\"3642\"}})])]):_vm._e()])}),0)])])])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"input-box\",style:({ height: _vm.boxHeight + 'px' })},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInput),expression:\"userInput\"}],ref:\"textarea\",staticClass:\"input-textarea\",attrs:{\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.userInput)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.userInput=$event.target.value},_vm.handleInput],\"keydown\":_vm.handleKeydown}}),_c('div',{staticClass:\"input-box-bottom\"},[(\n            (_vm.model === 'deepseek' || _vm.model === 'deepThinking') && _vm.showMode\n          )?_c('button',{staticClass:\"think inline-flex items-center cursor-pointer px-2 py-1 rounded-full transition-colors\",class:_vm.isDeepThinking\n              ? 'bg-[#DBEAFE] border-[#4D6BFE] text-[#4D6BFE]'\n              : 'bg-gray-200 border-gray-400 text-gray-600',on:{\"click\":_vm.toggleDeepThinking}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z\",\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"stroke-width\":\".1\"}}),_c('path',{attrs:{\"d\":\"M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z\",\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"stroke-width\":\".2\"}})]),_c('span',{staticClass:\"pl-1\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"深度思考\")])]):_vm._e(),(\n            (_vm.model === 'gpt35' ||\n              _vm.model === 'gemini' ||\n              _vm.model === 'kimi' ||\n              _vm.model === 'stepfunChat' ||\n              _vm.model === 'lingyiwanwu') &&\n            _vm.showMode\n          )?_c('button',{staticClass:\"think inline-flex items-center cursor-pointer px-2 py-1 rounded-full transition-colors\",class:_vm.think\n              ? 'bg-[#DBEAFE] border-[#4D6BFE] text-[#4D6BFE]'\n              : 'bg-gray-200 border-gray-400 text-gray-600',on:{\"click\":_vm.changeThink}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z\",\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"stroke-width\":\".1\"}}),_c('path',{attrs:{\"d\":\"M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z\",\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"stroke-width\":\".2\"}})]),_c('span',{staticClass:\"pl-1\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"伪深度思考\")])]):_vm._e(),_c('button',{staticClass:\"send-button\",attrs:{\"type\":\"submit\"}},[(!_vm.isThinking)?_c('svg',{attrs:{\"width\":\"14\",\"height\":\"16\",\"viewBox\":\"0 0 14 16\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z\",\"fill\":\"currentColor\"}})]):_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1740452364359\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"4320\",\"width\":\"32\",\"height\":\"32\"},on:{\"click\":_vm.stopAIResponse}},[_c('path',{attrs:{\"d\":\"M882.789 882.789H141.21V141.21H882.79z\",\"fill\":\"#ffffff\",\"p-id\":\"4321\"}})])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <!-- 模型选择 -->\n    <div v-if=\"showMode\" class=\"flex items-center justify-between\">\n      <button\n        @click=\"openModelDialog\"\n        style=\"border: 1px solid #d9d9d9\"\n        class=\"bg-[#ffffff] model-select inline-flex items-center cursor-pointer px-2 py-1 ml-1 rounded-full transition-colors\"\n      >\n        <img\n          :src=\"selectedModelImg\"\n          class=\"w-5 h-5 rounded-full border-gray-300\"\n        />\n        <span class=\"pl-1\" style=\"font-size: 12px\"> {{ selectedModel }} </span>\n        <svg\n          t=\"1740124860020\"\n          class=\"icon\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"5352\"\n          width=\"16\"\n          height=\"16\"\n          :class=\"{ 'rotate-180': isShareDialogOpen }\"\n          style=\"transition: transform 0.2s ease\"\n        >\n          <path\n            d=\"M512 574.72l-183.168-183.168a10.666667 10.666667 0 0 0-15.082667 0l-30.165333 30.165333a10.666667 10.666667 0 0 0 0 15.082667l198.250667 198.250667a42.666667 42.666667 0 0 0 60.330666 0l198.250667-198.250667a10.666667 10.666667 0 0 0 0-15.082667l-30.165333-30.165333a10.666667 10.666667 0 0 0-15.082667 0L512 574.698667z\"\n            fill=\"#313233\"\n            p-id=\"5353\"\n          ></path>\n        </svg>\n      </button>\n      <!-- 模式选择 -->\n      <div class=\"w-1/2 flex justify-end\">\n        <div>\n          <!-- 正常模式 -->\n          <label\n            @click=\"changeMode('normal')\"\n            style=\"margin-right: 10px\"\n            class=\"inline-block cursor-pointer radio\"\n          >\n            <input\n              class=\"hidden peer\"\n              type=\"radio\"\n              name=\"radio\"\n              :checked=\"mode === 'normal'\"\n            />\n            <span\n              class=\"relative text-sm transition-all duration-300 peer-checked:font-bold peer-checked:text-black text-gray-400\"\n            >\n              <span :class=\"{ 'filter grayscale': mode !== 'normal' }\">💬</span>\n              日常对话\n            </span>\n          </label>\n\n          <!-- 读代码 -->\n          <label\n            @click=\"changeMode('read')\"\n            style=\"margin-right: 10px\"\n            class=\"inline-block cursor-pointer radio\"\n          >\n            <input\n              class=\"hidden peer\"\n              type=\"radio\"\n              name=\"radio\"\n              :checked=\"mode === 'read'\"\n            />\n            <span\n              class=\"relative text-sm transition-all duration-300 peer-checked:font-bold peer-checked:text-black text-gray-400\"\n            >\n              <span :class=\"{ 'filter grayscale': mode !== 'read' }\">🖥️</span>\n              代码优化\n            </span>\n          </label>\n\n          <!-- 写代码 -->\n          <label\n            @click=\"changeMode('write')\"\n            style=\"margin-right: 10px\"\n            class=\"inline-block cursor-pointer radio\"\n          >\n            <input\n              class=\"hidden peer\"\n              type=\"radio\"\n              name=\"radio\"\n              :checked=\"mode === 'write'\"\n            />\n            <span\n              class=\"relative text-sm transition-all duration-300 peer-checked:font-bold peer-checked:text-black text-gray-400\"\n            >\n              <span :class=\"{ 'filter grayscale': mode !== 'write' }\">⌨️</span>\n              代码书写\n            </span>\n          </label>\n        </div>\n      </div>\n      <!-- 模型弹出层 -->\n      <div\n        v-if=\"isShareDialogOpen\"\n        @click.self=\"isShareDialogOpen = false\"\n        class=\"propup fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\"\n      >\n        <div class=\"bg-white rounded-lg p-6 shadow-lg w-96 md:w-[600px]\">\n          <div class=\"flex flex-col items-left\">\n            <h2 class=\"text-md font-semibold text-gray-800 mb-4\">模型选择</h2>\n\n            <div class=\"w-full\">\n              <div class=\"grid gap-2 grid-cols-2 md:grid-cols-3 lg:grid-cols-3\">\n                <label\n                  v-for=\"model in models\"\n                  :key=\"model.name\"\n                  @click=\"changeModel(model)\"\n                  class=\"relative group flex items-center p-2 rounded-md border border-gray-300 cursor-pointer hover:shadow-md transition-shadow focus:outline-none peer-checked:bg-blue-100 peer-checked:border-blue-500\"\n                  :class=\"{ 'border-blue-500': selectedModel === model.name }\"\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"model\"\n                    value=\"model1\"\n                    class=\"peer sr-only\"\n                    aria-hidden=\"true\"\n                  />\n                  <img\n                    :src=\"model.img\"\n                    alt=\"Model 1 Icon\"\n                    class=\"w-5 h-5 mr-2 rounded border-gray-300\"\n                  />\n                  <span class=\"text-gray-700 text-sm\">\n                    {{ model.name }}\n                    <p class=\"text-[10px] text-gray-400\">\n                      {{ model.description }}\n                    </p>\n                  </span>\n\n                  <span\n                    v-if=\"selectedModel === model.name\"\n                    class=\"text-green-500 ml-1 absolute right-2\"\n                  >\n                    <svg\n                      t=\"1740124477021\"\n                      class=\"icon\"\n                      viewBox=\"0 0 1024 1024\"\n                      version=\"1.1\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      p-id=\"3639\"\n                      width=\"25\"\n                      height=\"25\"\n                    >\n                      <path\n                        d=\"M512 126.464c212.48 0 385.536 173.056 385.536 385.536s-173.056 385.536-385.536 385.536-385.536-173.056-385.536-385.536S299.52 126.464 512 126.464m0-20.48c-224.256 0-406.016 181.76-406.016 406.016s181.76 406.016 406.016 406.016 406.016-181.76 406.016-406.016-181.76-406.016-406.016-406.016z\"\n                        fill=\"#4E63DD\"\n                        opacity=\".1\"\n                        p-id=\"3640\"\n                      ></path>\n                      <path\n                        d=\"M323.584 512a188.416 188.416 0 1 0 376.832 0 188.416 188.416 0 1 0-376.832 0Z\"\n                        fill=\"#4E63DD\"\n                        opacity=\".5\"\n                        p-id=\"3641\"\n                      ></path>\n                      <path\n                        d=\"M512 374.784c36.864 0 71.168 14.336 97.28 40.448s40.448 60.416 40.448 97.28c0 75.776-61.44 137.216-137.216 137.216-36.864 0-71.168-14.336-97.28-40.448s-40.448-60.416-40.448-97.28c0-75.776 61.44-137.216 137.216-137.216m0-51.2c-103.936 0-188.416 84.48-188.416 188.416s84.48 188.416 188.416 188.416 188.416-84.48 188.416-188.416-84.48-188.416-188.416-188.416z\"\n                        fill=\"#4E63DD\"\n                        p-id=\"3642\"\n                      ></path>\n                    </svg>\n                  </span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"input-box\" :style=\"{ height: boxHeight + 'px' }\">\n      <form @submit.prevent=\"handleSubmit\">\n        <textarea\n          class=\"input-textarea\"\n          ref=\"textarea\"\n          @input=\"handleInput\"\n          @keydown=\"handleKeydown\"\n          v-model=\"userInput\"\n          :placeholder=\"placeholder\"\n        ></textarea>\n        <div class=\"input-box-bottom\">\n          <button\n            v-if=\"\n              (model === 'deepseek' || model === 'deepThinking') && showMode\n            \"\n            class=\"think inline-flex items-center cursor-pointer px-2 py-1 rounded-full transition-colors\"\n            :class=\"\n              isDeepThinking\n                ? 'bg-[#DBEAFE] border-[#4D6BFE] text-[#4D6BFE]'\n                : 'bg-gray-200 border-gray-400 text-gray-600'\n            \"\n            @click=\"toggleDeepThinking\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 20 20\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                stroke-width=\".1\"\n              ></path>\n              <path\n                d=\"M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                stroke-width=\".2\"\n              ></path>\n            </svg>\n            <span class=\"pl-1\" style=\"font-size: 12px\">深度思考</span>\n          </button>\n\n          <button\n            v-if=\"\n              (model === 'gpt35' ||\n                model === 'gemini' ||\n                model === 'kimi' ||\n                model === 'stepfunChat' ||\n                model === 'lingyiwanwu') &&\n              showMode\n            \"\n            class=\"think inline-flex items-center cursor-pointer px-2 py-1 rounded-full transition-colors\"\n            :class=\"\n              think\n                ? 'bg-[#DBEAFE] border-[#4D6BFE] text-[#4D6BFE]'\n                : 'bg-gray-200 border-gray-400 text-gray-600'\n            \"\n            @click=\"changeThink\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 20 20\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                stroke-width=\".1\"\n              ></path>\n              <path\n                d=\"M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                stroke-width=\".2\"\n              ></path>\n            </svg>\n            <span class=\"pl-1\" style=\"font-size: 12px\">伪深度思考</span>\n          </button>\n          <button type=\"submit\" class=\"send-button\">\n            <svg\n              v-if=\"!isThinking\"\n              width=\"14\"\n              height=\"16\"\n              viewBox=\"0 0 14 16\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z\"\n                fill=\"currentColor\"\n              ></path>\n              <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z\"\n                fill=\"currentColor\"\n              ></path>\n              <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z\"\n                fill=\"currentColor\"\n              ></path>\n            </svg>\n            <svg\n              v-else\n              @click=\"stopAIResponse\"\n              t=\"1740452364359\"\n              class=\"icon\"\n              viewBox=\"0 0 1024 1024\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              p-id=\"4320\"\n              width=\"32\"\n              height=\"32\"\n            >\n              <path\n                d=\"M882.789 882.789H141.21V141.21H882.79z\"\n                fill=\"#ffffff\"\n                p-id=\"4321\"\n              ></path>\n            </svg>\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { autoResizeTextarea, resetTextareaHeight } from \"../../utils/helpers\";\nimport { showModels } from \"../../utils/api\";\n\nexport default {\n  props: {\n    isThinking: {\n      type: Boolean,\n      default: false,\n    },\n    mode: {\n      type: String,\n      required: true,\n    },\n    model: {\n      type: String,\n      required: true,\n    },\n    showMode: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  watch: {\n    userInput() {\n      this.$nextTick(() => {\n        autoResizeTextarea(this.$refs.textarea);\n      });\n    },\n    // 监听model变化，更新选中的模型信息\n    model(newModel) {\n      const selected = this.models.find((m) => m.model === newModel);\n      if (selected) {\n        this.selectedModel = selected.name;\n        this.selectedModelImg = selected.img;\n      }\n    },\n  },\n  data() {\n    return {\n      models: showModels,\n      boxHeight: 100, // 初始高度\n      initialHeight: 100, // 初始化高度，用于重置\n      placeholder: \"来说点什么...\",\n      userInput: \"\",\n      isDeepThinking: true, // 深度思考开关状态\n      showPasswordModal: false, // 控制密码模态框的显示与隐藏\n      passwordInput: \"\", // 用户输入的密码\n      correctPassword: \"1313ljjmtdsxxx\", // 正确的密码\n      think: true,\n      isShareDialogOpen: false,\n      selectedModel: \"DeepSeek-R1\",\n      selectedModelImg: require(\"@/assets/deepseek.png\"),\n    };\n  },\n  methods: {\n    handleInput(event) {\n      autoResizeTextarea(event.target);\n      this.adjustHeight();\n    },\n    adjustHeight() {\n      const textarea = this.$refs.textarea;\n      textarea.style.height = \"auto\"; // 重置高度，以便计算新的高度\n      textarea.style.height = textarea.scrollHeight + \"px\"; // 设置新的高度\n      this.boxHeight = textarea.scrollHeight + 55; // 40 是 padding 和 margin 的额外高度\n    },\n    resetInput() {\n      // 清空内容\n      this.userInput = \"\";\n\n      // 重置 textarea 高度\n      const textarea = this.$refs.textarea;\n      textarea.style.height = \"auto\"; // 重置高度\n      textarea.style.height = this.initialHeight + \"px\"; // 设置为初始高度\n\n      // 重置外部 div 高度\n      this.boxHeight = this.initialHeight;\n    },\n    handleKeydown(event) {\n      if (event.key === \"Enter\" && !event.ctrlKey && !event.metaKey) {\n        event.preventDefault();\n        this.handleSubmit();\n      } else if (event.key === \"Enter\" && (event.ctrlKey || event.metaKey)) {\n        event.preventDefault();\n        this.userInput += \"\\n\";\n        autoResizeTextarea(this.$refs.textarea);\n      }\n    },\n    handleSubmit() {\n      this.$emit(\"send-message\", this.userInput, this.selectedModel);\n      this.resetInput();\n      resetTextareaHeight(this.$refs.textarea);\n      this.$emit(\"scroll-to-bottom\");\n    },\n    roleChange(preset) {\n      this.userInput = preset;\n      this.handleSubmit();\n    },\n    changeMode(newMode) {\n      this.$emit(\"change-mode\", newMode);\n    },\n    toggleDeepThinking() {\n      if (!this.isDeepThinking) {\n        // 如果当前是关闭状态，点击后弹出密码输入框\n        // this.showPasswordModal = true\n        this.isDeepThinking = true;\n        this.showPasswordModal = false;\n        this.passwordInput = \"\";\n        // this.placeholder = '已启用DeepSeek深度思考模式'\n      } else {\n        // 如果当前是开启状态，直接关闭\n        this.isDeepThinking = false;\n        this.placeholder = \"来说点什么...\";\n      }\n      this.$emit(\"toggle-deep-thinking\", this.isDeepThinking);\n    },\n    confirmPasswordInput() {\n      if (this.passwordInput === this.correctPassword) {\n        this.isDeepThinking = true;\n        this.$emit(\"toggle-deep-thinking\", this.isDeepThinking);\n        this.showPasswordModal = false;\n        this.passwordInput = \"\";\n      } else {\n        alert(\"密码错误，请重试\");\n        this.passwordInput = \"\";\n        // 密码错误时，恢复开关状态\n        this.$refs.deepThinkingSwitch.checked = false;\n      }\n    },\n    cancelPasswordInput() {\n      this.showPasswordModal = false;\n      this.passwordInput = \"\";\n      // 取消时，恢复开关状态\n      this.$refs.deepThinkingSwitch.checked = false;\n      // 保持深度思考模式关闭\n      this.isDeepThinking = false;\n    },\n    changeThink() {\n      if (this.think) {\n        this.think = false;\n        this.$emit(\"change-mode\", \"normal\");\n      } else {\n        this.think = true;\n        this.$emit(\"change-mode\", \"think\");\n      }\n    },\n    init() {\n      this.think = false;\n    },\n    openModelDialog() {\n      this.isShareDialogOpen = true;\n    },\n    changeModel(data) {\n      this.isShareDialogOpen = false;\n      this.selectedModel = data.name;\n      this.selectedModelImg = data.img;\n      this.deepThinking = false;\n      this.$emit(\"change-model\", data.model);\n    },\n    stopAIResponse() {\n      this.$emit(\"stop-ai-response\");\n    },\n  },\n  mounted() {},\n};\n</script>\n<style scoped>\n.input-box {\n  width: calc(100% - 10px);\n  min-height: 110px;\n  max-height: 500px;\n  background-color: #ffffff;\n  border: 1px solid #d9d9d9;\n  border-radius: 10px;\n  margin: 5px 5px 25px 5px;\n  padding: 10px;\n  position: relative;\n  overflow: hidden; /* 防止内容溢出 */\n}\n/* 检测电脑屏幕 */\n@media screen and (min-width: 1024px) {\n  .input-box {\n    min-height: 120px;\n  }\n}\n\n.input-textarea {\n  width: 100%;\n  height: auto;\n  outline: none;\n  border: none;\n  resize: none;\n  font-size: 14px;\n  background-color: #ffffff;\n  overflow: hidden; /* 防止内容溢出 */\n}\n\n.input-box-bottom {\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n}\n\n.input-box-bottom .send-button {\n  position: absolute;\n  bottom: 7px;\n  right: 20px;\n}\n.input-box-bottom .think {\n  position: absolute;\n  bottom: 7px;\n  left: -2px;\n}\n.send-button {\n  position: absolute;\n  bottom: 10px;\n  right: 20px;\n  width: 28px; /* 圆形按钮的宽度 */\n  height: 28px; /* 圆形按钮的高度 */\n  border-radius: 50%; /* 圆形 */\n  background-color: #4d6bfe; /* 背景颜色 */\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  padding: 0; /* 移除默认 padding */\n}\n\n.send-button svg {\n  width: 14px;\n  height: 16px;\n  color: white;\n}\n\n.send-button:disabled {\n  background-color: #ccc; /* 禁用时的背景颜色 */\n  cursor: not-allowed;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InputBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InputBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InputBox.vue?vue&type=template&id=df63c74c&scoped=true\"\nimport script from \"./InputBox.vue?vue&type=script&lang=js\"\nexport * from \"./InputBox.vue?vue&type=script&lang=js\"\nimport style0 from \"./InputBox.vue?vue&type=style&index=0&id=df63c74c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df63c74c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mx-auto pl-4 pr-4\"},[_c('div',{staticClass:\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\"},[_c('div',{staticClass:\"w-full aspect-square mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0\"},[(_vm.imageUrl)?_c('img',{staticClass:\"w-full h-full object-cover\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Uploaded Image\"},on:{\"click\":_vm.openShareDialog}}):_c('div',{staticClass:\"w-full h-full bg-gray-100 flex items-center justify-center\"},[_c('img',{staticClass:\"w-full h-full\",attrs:{\"src\":require(\"@/assets/quote.gif\"),\"alt\":\"动态图片\"}})])]),_c('div',{staticClass:\"w-full lg:w-1/2 flex flex-col justify-between\"},[_c('div',[_c('h3',{staticClass:\"head-title font-bold text-left cursor-pointer transition-all relative\"},[_vm._v(\" \"+_vm._s(_vm.functions[_vm.selectedFunction].name)+\" \"),(_vm.audioUrl)?_c('span',{staticClass:\"absolute right-0 bottom-0\",on:{\"click\":_vm.playAudio}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1739841967805\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"8023\",\"width\":\"25\",\"height\":\"25\"}},[_c('path',{attrs:{\"d\":\"M573.0816 532.48m-403.5072 0a403.5072 403.5072 0 1 0 807.0144 0 403.5072 403.5072 0 1 0-807.0144 0Z\",\"fill\":\"#A5ADF6\",\"p-id\":\"8024\"}}),_c('path',{attrs:{\"d\":\"M451.4816 490.4448m-403.5072 0a403.5072 403.5072 0 1 0 807.0144 0 403.5072 403.5072 0 1 0-807.0144 0Z\",\"fill\":\"#A5ADF6\",\"p-id\":\"8025\"}}),_c('path',{attrs:{\"d\":\"M169.5744 532.48c0 153.6 85.8624 287.1808 212.1728 355.328 22.6816 3.9424 45.9264 6.144 69.7344 6.144 222.8736 0 403.5072-180.6848 403.5072-403.5072 0-153.6-85.8624-287.1808-212.1728-355.328-22.6816-3.9424-45.9264-6.144-69.7344-6.144-222.8736 0-403.5072 180.6336-403.5072 403.5072z\",\"fill\":\"#635DF7\",\"p-id\":\"8026\"}}),_c('path',{attrs:{\"d\":\"M373.8112 715.8272c-15.0528 0-30.1056-3.9424-43.8272-11.8784-27.4432-15.8208-43.8272-44.2368-43.8272-75.9296V381.4912c0-31.6928 16.384-60.0576 43.8272-75.9296 27.4432-15.8208 60.2112-15.8208 87.6544 0l213.504 123.2896c27.4432 15.8208 43.8272 44.2368 43.8272 75.9296 0 31.6928-16.384 60.0576-43.8272 75.8784l-213.504 123.2896c-13.6704 7.8848-28.7744 11.8784-43.8272 11.8784z m0.0512-340.1216c-0.8192 0-1.8432 0.2048-2.9184 0.8192-2.8672 1.6384-2.8672 4.1472-2.8672 4.9664v246.528c0 0.8192 0 3.328 2.8672 4.9664 2.8672 1.6896 5.0176 0.4096 5.7344 0l213.504-123.2896c0.7168-0.4096 2.8672-1.6384 2.8672-4.9664 0-3.328-2.1504-4.5568-2.8672-4.9664l-213.504-123.2896c-0.4096-0.2048-1.4336-0.768-2.816-0.768z\",\"fill\":\"#FFFFFF\",\"p-id\":\"8027\"}})])]):_vm._e()]),_c('div',{staticClass:\"mb-4 p-4 bg-gray-100 rounded-lg text-sm\"},[(_vm.generatedContent)?_c('p',[_vm._v(\" \"+_vm._s(_vm.generatedContent)+\" \")]):_c('p',{staticClass:\"text-gray-500\"},[_vm._v(\" \"+_vm._s(_vm.isLoading ? \"识别中...\" : _vm.functions[_vm.selectedFunction].placeholder)+\" \")])]),_c('audio',{ref:\"audioRef\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":_vm.audioUrl}})]),_c('div',{staticClass:\"mt-auto\"},[_c('input',{staticClass:\"mb-4 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed\",attrs:{\"type\":\"file\",\"accept\":\"image/jpg, image/jpeg, image/png\",\"disabled\":_vm.isLoading},on:{\"change\":_vm.handleImageUpload}}),_c('button',{staticClass:\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\",attrs:{\"disabled\":!_vm.imageUrl || _vm.isLoading},on:{\"click\":_vm.startRecognition}},[(_vm.isLoading)?_c('span',[_vm._v(\"正在识别\")]):_c('span',[_vm._v(_vm._s(_vm.functions[_vm.selectedFunction].buttonText))])])])])]),(_vm.isShareDialogOpen)?_c('div',{staticClass:\"propup fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\"},[_c('div',{staticClass:\"bg-white rounded-lg p-4 shadow-lg w-96\"},[_c('div',{staticClass:\"flex flex-col items-center\"},[_c('div',{staticClass:\"post-card\"},[_c('a',{staticClass:\"title\",attrs:{\"href\":\"javascript:;\"}},[_vm._v(_vm._s(_vm.generatedContent))]),_c('span',{staticClass:\"datetime\"}),_c('div',{staticClass:\"image-preview\"},[_c('img',{staticClass:\"w-full h-64 object-cover mb-4 rounded-md\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Pet Image\"}})]),_vm._m(0)]),_c('br'),_c('button',{staticClass:\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600\",on:{\"click\":_vm.saveShareToLocal}},[_vm._v(\" 保存到本地 \")]),_c('button',{staticClass:\"mt-4 text-gray-500 hover:text-gray-700\",on:{\"click\":_vm.closeShareDialog}},[_vm._v(\" 关闭 \")])])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"qrcode-preview flex items-center justify-between w-full\"},[_c('div',{staticClass:\"text-left\"},[_c('p',{staticClass:\"text-sm text-gray-600\"},[_vm._v(\"内容由AI生成\")]),_c('p',{staticClass:\"text-sm text-gray-600\"},[_vm._v(\"irritable.netlify.app\")])]),_c('img',{staticClass:\"qrcode w-12 h-12\",attrs:{\"src\":require(\"@/assets/qrcode.png\")}})])\n}]\n\nexport { render, staticRenderFns }","// 通用对话\nexport const ChatPrompts = [\n  {\n    mode: \"normal\",\n    systemMessage: `你是一个正常的助手，请用礼貌的语言回答问题。`,\n  },\n\n  {\n    mode: \"angry\",\n    systemMessage: `您是一个极其资深的程序员，您的任务是1.获取我提供的代码片段，并用简单易懂的语言进行解释。分解代码的功能、用途和关键组件。使用示例和准确的术语，帮助读者了解代码的作用以及它在高层次上的工作原理。2.识别所提供的代码片段中存在的所有错误，并提供解决这些问题后的改进版代码。请列举在代码片段中发现的问题，以及您的改进版程序如何解决这些问题。更正后的代码应功能强大、高效。3.确定可以提高代码效率、速度或减少资源消耗的领域。提供具体的优化建议，并说明这些更改如何提高代码的性能。优化后的代码应保持与原始代码相同的功能，同时表现出更高的效率。`,\n  },\n  {\n    mode: \"rude\",\n    systemMessage: `您是一个极其资深的程序员，您的任务是根据我提供的自然语言请求，写出符合需求的代码。请求将描述函数的所需功能，可能包括输入参数和预期返回值。根据给定的规范实现函数，确保它们处理边缘情况、执行必要的验证。请在代码中包含适当的注释，以解释逻辑并帮助其他开发人员理解实现。`,\n  },\n  {\n    mode: \"think\",\n    systemMessage: `你是一个极其严谨且一丝不苟的思考者。你的核心职责是准确回答我的问题。为了确保答案的绝对正确性，你必须在给出最终答案之前，进行深入、全面的思考、验证和确认。\n\n你的回答必须严格遵循以下两个阶段：**思考阶段** 和 **回答阶段**。 任何偏离此结构的回答都是不可接受的。\n\n**思考阶段：**\n\n*   你必须将整个思考过程封装在 **唯一一个**  '<think> ... </think>' 标签内。  不允许出现多个 '<think>' 标签，也不允许在回答阶段出现任何 '<think>' 标签。\n*   在 '<think>' 标签内，你需要清晰地展示你的思考过程，这必须体现链式思维：\n    *   **问题分析：** 准确理解并分解我提出的问题。\n    *   **假设提出：** 基于问题分析，提出一个或多个可能的答案（假设）。\n    *   **验证过程：**  对每个假设进行严格的验证。验证方法可以是逻辑推理、数学计算、查阅资料等。\n    *   **结论确定：**  根据验证结果，确定最终的正确答案。\n*   在思考过程中，你必须进行自我验证。如果验证发现任何错误，你必须立即放弃当前思路，从新的角度重新开始思考。每次放弃思路并重新思考，你的思考次数将减少一次。\n*   你最多可以进行 10 次思考。每次重新思考，思考次数减一。\n*   如果在 10 次思考后，你仍然无法得出经过验证的正确答案，你必须在 '<think> ... </think>' 标签的末尾明确输出“请重新让我思考”，然后立即停止回答。  **不允许在思考次数耗尽后给出任何未经验证的答案。**\n\n**回答阶段：**\n\n*   只有当你 **完全确信** 已经在思考阶段找到了经过严格验证的正确答案，并且已经完成了所有必要的验证步骤之后，你才能进入回答阶段。\n*   在回答阶段，你必须清晰、完整、准确地呈现你在思考阶段得出的最终答案。你的描述必须按照你在思考阶段所采用的思路进行组织，确保逻辑连贯。\n*   回答阶段的内容必须与思考阶段的最终结论完全一致，但可以更加详细、易于理解，并针对用户的提问进行更直接的回答。\n*   回答阶段必须与思考阶段之间换行分隔。\n\n**示例：**\n\n**用户：** 3 * 4 等于几？\n\n**AI：**\n\n<think>\n问题是计算 3 乘以 4 的结果。\n初步假设：3 * 4 = 12\n验证：使用乘法定义，3 乘以 4 确实等于 12。\n结论：3 * 4 = 12\n</think>\n\n3 乘以 4 等于 12。\n\n**重要：**\n\n*   **你必须严格遵守上述所有规则。任何违反这些规则的行为都是不可接受的。**\n*   **如果无法同时满足所有规则，尤其是无法在 10 次思考内得出正确答案，你必须输出“请重新让我思考”并停止回答。**\n*   **请记住，你的目标是提供准确、经过验证的答案，而不是快速给出未经思考的猜测。**\n`,\n  },\n];\n\n// 识图\nexport const ImagePrompts = [\n  {\n    name: \"网页截图改进建议\",\n    placeholder: \"请上传网页的截图，让我看看它可以怎么改进！\",\n    buttonText: \"开始识别\",\n    prompt: `\n# 角色： 网站设计顾问\n你是一位经验丰富的网站设计和用户体验专家,能够通过网页截图，为网页的开发者提供全面的网站设计建议：\n# 基本信息\n请提供以下信息，我将基于这些要素给出设计建议：\n# 工作流程：\n        1. 仔细观察宠物的网站类型/行业、目标受众和品牌特性。\n        2. 结合格式塔原理和尼尔森可用性原则分析用户体验痛点\n        3. 以用户视角构思设计解决方案，采用符合产品调性的视觉语言。\n        4. 给出一些竞品或参考网站。\n        5. 交付物包含：用户旅程地图（📊）+高保真原型（📱）+设计规范文档（📄）\n# 输出格式：\n请提供以下设计建议：\n1. 整体设计风格\n推荐的设计风格和美学方向（如极简主义、拟物化、扁平化等）\n符合品牌和目标受众的设计语言建议\n情绪板和视觉参考建议\n\n2. 色彩方案\n主色调和辅助色彩推荐（提供具体色号）\n色彩运用策略和心理影响分析\n文本和背景色彩关系建议\n\n3. 排版和字体选择\n字体推荐（考虑可读性和品牌调性）\n字体大小、行高和间距指南\n文本层次结构建议\n\n4. 页面布局和结构\n首页和关键内部页面的布局建议\n内容组织和信息层次结构\n响应式设计考虑（不同设备上的展示策略）\n\n5. 导航和用户流程\n导航结构和菜单设计\n用户旅程优化建议\n页面间过渡和连接策略\n\n6. 视觉元素\n图像、图标和插图风格建议\n按钮、表单和交互元素设计\n空白空间利用策略\n\n7. 用户体验优化\n提高可用性的具体建议\n无障碍设计考虑\n页面加载和性能优化建议\n\n8. 转化率优化\n行动召唤按钮设计和放置\n信任标志和社会证明元素\n引导用户目标完成的视觉策略\n\n9. 实现建议\n推荐的设计和开发工具或平台\n可能的模板或框架建议\n实施过程中的优先事项\n# 注意事项\n- 一定要确保识别出来的是网页，否则不要回答。\n- 若图片中未识别到网页，统一回复：\"图片中没有网页T_T\"。\n- 请提供具体、可操作的建议，而不是泛泛而谈。\n- 尽可能包含具体的例子、参考和可视化描述，帮助我理解和实施这些设计建议。\n        `,\n  },\n];\n\n// 生图\nexport const ImageCogView = [\n  {\n    name: \"自定义界面\",\n    prompt:\n      \"开发者需要为一个PC端Web应用输出高保真的原型图，请完成： 1、用户体验分析：先分析App的主要功能和用户需求，确定核心交互逻辑。 2、产品界面规划：作为产品经理，定义关键界面，确保信息架构合理。 3、高保真 UI 设计：作为 UI 设计师，设计贴近真实Ant Design/Element设计规范的界面，使用现代化的 UI 元素，使其具有良好的视觉体验。 输出：网页的高保真原型图 – 注意： 1.界面尺寸应模拟Chrome浏览器，并让界面圆角化，使其更像真实的Web界面。 2.使用真实的 UI 图片，而非占位符图片（可从 Unsplash、Pexels、Apple 官方 UI 资源中选择）。3. 添加底部任务栏（模拟Windows或MacOS状态栏），并包含网页导航栏。\",\n  },\n  {\n    name: \"社交应用\",\n    prompt:\n      \"开发者需要为PC端社交应用创建高保真原型图。请完成：1、用户体验分析：明确主要功能（如动态发布、消息、关注等）和用户需求，确定核心交互流程。2、产品界面规划：定义关键界面（如首页、个人页、消息页等），确保信息层次清晰。3、高保真 UI 设计：遵循 Ant Design 设计规范，使用现代化 UI 元素（如卡片、微动效）打造视觉吸引力强的界面。 输出：网页的高保真原型图 – 注意： 1.界面尺寸应模拟Chrome浏览器，并让界面圆角化，使其更像真实的Web界面。 2.使用真实的 UI 图片，而非占位符图片（可从 Unsplash、Pexels、Apple 官方 UI 资源中选择）。3. 添加底部任务栏（模拟Windows或MacOS状态栏），并包含网页导航栏。\",\n  },\n  {\n    name: \"电商平台\",\n    prompt:\n      \"为PC端电商平台设计高保真原型。步骤如下：1、用户体验分析：分析商品浏览、购物车、支付等核心功能需求，优化交互逻辑。2、产品界面规划：规划商品列表、详情页、结算页等关键界面，确保购物流程顺畅。3、高保真 UI 设计：采用 Ant Design 风格，使用卡片、图标等元素，设计视觉一致的界面。\",\n  },\n  {\n    name: \"教育平台\",\n    prompt:\n      \"为PC端在线教育平台应用设计高保真原型。任务：1、用户体验分析：分析直播课堂、学习资料、在线测验等核心功能需求，优化学习路径。2、产品界面规划：规划课程列表、详情页、学习进度页等关键界面，确保教学流程清晰。3、高保真 UI 设计：采用 Ant Design 设计风格，使用分层卡片、动态进度指示器等元素，提升学习体验。\",\n  },\n  {\n    name: \"旅行应用\",\n    prompt:\n      \"开发者需要设计PC端旅行应用的高保真原型。请完成：1、用户体验分析：明确目的地探索、行程规划、攻略分享等功能需求，设计便捷的交互流程。2、产品界面规划：定义目的地详情、行程日历、社区分享等关键界面，确保信息层次合理。3、高保真 UI 设计：遵循 Material Design 规范，使用卡片、地图组件等元素，打造视觉丰富的界面。\",\n  },\n  {\n    name: \"金融应用\",\n    prompt:\n      \"为PC端金融应用创建高保真原型。步骤：1、用户体验分析：分析账户管理、交易记录、投资分析等功能需求，确保数据展示清晰。2、产品界面规划：规划资产概览、交易详情、投资组合等关键界面，优化信息架构。3、高保真 UI 设计：采用 Ant Design 风格，使用图表、数据卡片等元素，设计专业可靠的界面。\",\n  },\n  {\n    name: \"餐饮外卖\",\n    prompt:\n      \"设计移动端餐饮外卖应用的高保真原型。要求：1、用户体验分析：明确餐厅浏览、菜单选择、订单跟踪等功能需求，简化点餐流程。2、产品界面规划：定义餐厅列表、菜单详情、订单状态等关键界面，确保操作直观。3、高保真 UI 设计：遵循iOS的UI设计规范，使用滑动选择器、进度指示器等元素，提升用户体验。\",\n  },\n  {\n    name: \"医疗健康\",\n    prompt:\n      \"开发者需要为PC端医疗健康应用设计高保真原型。任务：1、用户体验分析：分析健康记录、预约挂号、医生咨询等功能需求，设计安全可靠的交互流程。2、产品界面规划：规划健康仪表盘、预约日历、咨询聊天等关键界面，确保信息架构清晰。3、高保真 UI 设计：采用 Element UI 风格，使用图表、表单等元素，打造专业且易用的界面。\",\n  },\n  {\n    name: \"音乐播放\",\n    prompt:\n      \"为PC端音乐播放应用创建高保真原型。步骤：1、用户体验分析：明确歌曲浏览、播放控制、歌单管理等功能需求，优化音乐发现和播放体验。2、产品界面规划：规划推荐页、歌手列表、播放页等关键界面，确保信息层次合理。3、高保真 UI 设计：遵循 Ant Design 设计规范，使用专辑封面、进度条等元素，打造沉浸式音乐体验。\",\n  },\n  {\n    name: \"WEB办公\",\n    prompt:\n      \"设计PC端办公协作应用的高保真原型。要求：1、用户体验分析：分析任务管理、文档协作、团队沟通等功能需求，设计高效的工作流程。2、产品界面规划：规划任务看板、文档编辑、团队讨论等关键界面，确保信息架构清晰。3、高保真 UI 设计：采用 Ant Design 风格，使用卡片、表格等元素，打造专业的办公环境。\",\n  },\n];\n","<template>\n  <div class=\"container mx-auto pl-4 pr-4\">\n    <!-- 布局容器 -->\n    <div class=\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\">\n      <!-- 图片展示区域 -->\n      <div\n        class=\"w-full aspect-square mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0\"\n      >\n        <img\n          @click=\"openShareDialog\"\n          :src=\"imageUrl\"\n          alt=\"Uploaded Image\"\n          class=\"w-full h-full object-cover\"\n          v-if=\"imageUrl\"\n        />\n        <div\n          v-else\n          class=\"w-full h-full bg-gray-100 flex items-center justify-center\"\n        >\n          <img src=\"@/assets/quote.gif\" alt=\"动态图片\" class=\"w-full h-full\" />\n        </div>\n      </div>\n\n      <!-- 右侧区域（生成内容、输入框、按钮） -->\n      <div class=\"w-full lg:w-1/2 flex flex-col justify-between\">\n        <div>\n          <h3\n            class=\"head-title font-bold text-left cursor-pointer transition-all relative\"\n          >\n            {{ functions[selectedFunction].name }}\n\n            <span\n              v-if=\"audioUrl\"\n              @click=\"playAudio\"\n              class=\"absolute right-0 bottom-0\"\n            >\n              <svg\n                t=\"1739841967805\"\n                class=\"icon\"\n                viewBox=\"0 0 1024 1024\"\n                version=\"1.1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                p-id=\"8023\"\n                width=\"25\"\n                height=\"25\"\n              >\n                <path\n                  d=\"M573.0816 532.48m-403.5072 0a403.5072 403.5072 0 1 0 807.0144 0 403.5072 403.5072 0 1 0-807.0144 0Z\"\n                  fill=\"#A5ADF6\"\n                  p-id=\"8024\"\n                ></path>\n                <path\n                  d=\"M451.4816 490.4448m-403.5072 0a403.5072 403.5072 0 1 0 807.0144 0 403.5072 403.5072 0 1 0-807.0144 0Z\"\n                  fill=\"#A5ADF6\"\n                  p-id=\"8025\"\n                ></path>\n                <path\n                  d=\"M169.5744 532.48c0 153.6 85.8624 287.1808 212.1728 355.328 22.6816 3.9424 45.9264 6.144 69.7344 6.144 222.8736 0 403.5072-180.6848 403.5072-403.5072 0-153.6-85.8624-287.1808-212.1728-355.328-22.6816-3.9424-45.9264-6.144-69.7344-6.144-222.8736 0-403.5072 180.6336-403.5072 403.5072z\"\n                  fill=\"#635DF7\"\n                  p-id=\"8026\"\n                ></path>\n                <path\n                  d=\"M373.8112 715.8272c-15.0528 0-30.1056-3.9424-43.8272-11.8784-27.4432-15.8208-43.8272-44.2368-43.8272-75.9296V381.4912c0-31.6928 16.384-60.0576 43.8272-75.9296 27.4432-15.8208 60.2112-15.8208 87.6544 0l213.504 123.2896c27.4432 15.8208 43.8272 44.2368 43.8272 75.9296 0 31.6928-16.384 60.0576-43.8272 75.8784l-213.504 123.2896c-13.6704 7.8848-28.7744 11.8784-43.8272 11.8784z m0.0512-340.1216c-0.8192 0-1.8432 0.2048-2.9184 0.8192-2.8672 1.6384-2.8672 4.1472-2.8672 4.9664v246.528c0 0.8192 0 3.328 2.8672 4.9664 2.8672 1.6896 5.0176 0.4096 5.7344 0l213.504-123.2896c0.7168-0.4096 2.8672-1.6384 2.8672-4.9664 0-3.328-2.1504-4.5568-2.8672-4.9664l-213.504-123.2896c-0.4096-0.2048-1.4336-0.768-2.816-0.768z\"\n                  fill=\"#FFFFFF\"\n                  p-id=\"8027\"\n                ></path>\n              </svg>\n            </span>\n          </h3>\n          <div class=\"mb-4 p-4 bg-gray-100 rounded-lg text-sm\">\n            <p v-if=\"generatedContent\">\n              {{ generatedContent }}\n            </p>\n            <p v-else class=\"text-gray-500\">\n              {{\n                isLoading\n                  ? \"识别中...\"\n                  : functions[selectedFunction].placeholder\n              }}\n            </p>\n          </div>\n          <audio :src=\"audioUrl\" ref=\"audioRef\" style=\"display: none\"></audio>\n        </div>\n        <!-- 底部区域（输入框和按钮） -->\n        <div class=\"mt-auto\">\n          <!-- 上传图片的输入框 -->\n          <input\n            type=\"file\"\n            accept=\"image/jpg, image/jpeg, image/png\"\n            @change=\"handleImageUpload\"\n            :disabled=\"isLoading\"\n            class=\"mb-4 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n          />\n\n          <!-- 开始识别按钮 -->\n          <button\n            @click=\"startRecognition\"\n            :disabled=\"!imageUrl || isLoading\"\n            class=\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\"\n          >\n            <span v-if=\"isLoading\">正在识别</span>\n            <span v-else>{{ functions[selectedFunction].buttonText }}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 分享弹窗 -->\n    <div\n      v-if=\"isShareDialogOpen\"\n      class=\"propup fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\"\n    >\n      <div class=\"bg-white rounded-lg p-4 shadow-lg w-96\">\n        <div class=\"flex flex-col items-center\">\n          <div class=\"post-card\">\n            <a href=\"javascript:;\" class=\"title\">{{ generatedContent }}</a>\n            <span class=\"datetime\"></span>\n            <div class=\"image-preview\">\n              <img\n                :src=\"imageUrl\"\n                alt=\"Pet Image\"\n                class=\"w-full h-64 object-cover mb-4 rounded-md\"\n              />\n            </div>\n            <!-- 修改后的 qrcode-preview 部分 -->\n            <div\n              class=\"qrcode-preview flex items-center justify-between w-full\"\n            >\n              <div class=\"text-left\">\n                <p class=\"text-sm text-gray-600\">内容由AI生成</p>\n                <p class=\"text-sm text-gray-600\">irritable.netlify.app</p>\n              </div>\n              <img class=\"qrcode w-12 h-12\" src=\"~@/assets/qrcode.png\" />\n            </div>\n          </div>\n          <br />\n          <button\n            @click=\"saveShareToLocal\"\n            class=\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600\"\n          >\n            保存到本地\n          </button>\n          <button\n            @click=\"closeShareDialog\"\n            class=\"mt-4 text-gray-500 hover:text-gray-700\"\n          >\n            关闭\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fetchAIResponse, API_CONFIG, fetchTTS } from \"../../utils/api\";\nimport html2canvas from \"html2canvas\";\nimport { ImagePrompts } from \"../../utils/prompt.js\";\n\nexport default {\n  data() {\n    return {\n      imageUrl: null, // 用于显示图片的 URL\n      imageBase64: null, // 用于存储 Base64 格式的图片\n      generatedContent: null,\n      isLoading: false, // 加载状态\n      isShareDialogOpen: false, // 分享弹窗是否打开\n      selectedFunction: 0, // 默认选择第一个功能\n      functions: ImagePrompts,\n      abortController: null, // 用来保存 AbortController 实例\n      audioUrl: null, // 用于存储语音的 URL\n    };\n  },\n  methods: {\n    // 切换功能\n    switchFunction() {\n      this.selectedFunction =\n        (this.selectedFunction + 1) % this.functions.length;\n    },\n    async handleImageUpload(event) {\n      this.generatedContent = null;\n      const file = event.target.files[0];\n      if (!file) return;\n\n      // 检查文件格式\n      const allowedTypes = [\"image/jpg\", \"image/jpeg\", \"image/png\"];\n      if (!allowedTypes.includes(file.type)) {\n        alert(\"仅支持 JPG、JPEG、PNG 格式的图片\");\n        return;\n      }\n\n      // 检查图片像素（不超过 6000x6000）\n      const img = new Image();\n      img.src = URL.createObjectURL(file);\n      img.onload = async () => {\n        const width = img.width;\n        const height = img.height;\n        if (width > 6000 || height > 6000) {\n          alert(\"图片像素不能超过 6000x6000\");\n          return;\n        }\n\n        // 如果图片大小超过 5MB，则进行压缩\n        if (file.size > 5 * 1024 * 1024) {\n          try {\n            const compressedFile = await this.compressImage(file);\n            this.imageUrl = URL.createObjectURL(compressedFile);\n            this.imageBase64 = await this.fileToBase64(compressedFile);\n          } catch (error) {\n            console.error(\"图片压缩失败:\", error);\n            alert(\"图片压缩失败，请重试\");\n            return;\n          }\n        } else {\n          // 图片大小在 5MB 以内，直接处理\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            this.imageUrl = e.target.result; // 用于显示图片\n            this.imageBase64 = e.target.result.split(\",\")[1]; // 提取 Base64 数据部分\n          };\n          reader.readAsDataURL(file);\n        }\n      };\n    },\n    // 压缩图片\n    compressImage(file) {\n      return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.src = URL.createObjectURL(file);\n        img.onload = () => {\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\");\n\n          // 设置最大宽度和高度\n          const maxWidth = 6000;\n          const maxHeight = 6000;\n          let width = img.width;\n          let height = img.height;\n\n          if (width > maxWidth || height > maxHeight) {\n            const ratio = Math.min(maxWidth / width, maxHeight / height);\n            width *= ratio;\n            height *= ratio;\n          }\n\n          canvas.width = width;\n          canvas.height = height;\n\n          // 绘制图片到 canvas\n          ctx.drawImage(img, 0, 0, width, height);\n\n          // 将 canvas 转换为 Blob\n          canvas.toBlob(\n            (blob) => {\n              if (!blob) {\n                reject(new Error(\"图片压缩失败\"));\n                return;\n              }\n\n              // 检查压缩后的文件大小\n              if (blob.size > 5 * 1024 * 1024) {\n                // 如果仍然大于 5MB，降低质量\n                canvas.toBlob(\n                  (newBlob) => {\n                    if (!newBlob) {\n                      reject(new Error(\"图片压缩失败\"));\n                      return;\n                    }\n                    resolve(newBlob);\n                  },\n                  file.type,\n                  0.5 // 降低质量\n                );\n              } else {\n                resolve(blob);\n              }\n            },\n            file.type,\n            0.8 // 初始质量\n          );\n        };\n        img.onerror = (error) => reject(error);\n      });\n    },\n    // 将文件转换为 Base64\n    fileToBase64(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (e) => resolve(e.target.result.split(\",\")[1]);\n        reader.onerror = (error) => reject(error);\n        reader.readAsDataURL(file);\n      });\n    },\n    async startRecognition() {\n      // 创建新的 AbortController 实例\n      this.abortController = new AbortController();\n      if (!this.imageBase64) {\n        alert(\"请先上传图片\");\n        return;\n      }\n\n      this.isLoading = true; // 开始加载\n\n      try {\n        const messages = [\n          {\n            role: \"user\",\n            content: [\n              {\n                type: \"image_url\",\n                image_url: {\n                  url: `data:image/jpeg;base64,${this.imageBase64}`, // 使用 Base64 格式的图片\n                },\n              },\n              {\n                type: \"text\",\n                text: this.functions[this.selectedFunction].prompt,\n              },\n            ],\n          },\n        ];\n        const { apiUrl, apiKey, modelName, temperature } =\n          API_CONFIG[\"stepfun\"];\n\n        const stream = true;\n        // 用于存储流式响应的内容\n        let streamContent = \"\";\n        await fetchAIResponse(\n          apiUrl,\n          apiKey,\n          modelName,\n          messages,\n          temperature,\n          stream,\n          (chunk) => {\n            if (this.abortController.signal.aborted) {\n              return; // 请求被中止，退出\n            }\n            // 逐步更新消息内容\n            if (chunk.type === \"content\") {\n              streamContent += chunk.content;\n              this.generatedContent = streamContent;\n            }\n          },\n          this.abortController\n        );\n        // this.generatedContent = data.choices[0].message.content\n\n        // 移除表情符号\n        const cleanedContent = streamContent.replace(\n          /[\\u{1F600}-\\u{1F64F}]/gu,\n          \"\"\n        );\n        // 移除所有双引号和空格\n        const trimmedContent = cleanedContent.replace(/[\"\\s]/g, \"\");\n        // 调用 generateTTS，并传递清理后的生成内容\n        this.generateTTS(trimmedContent);\n      } catch (error) {\n        console.error(\"Error fetching AI response:\", error);\n        this.generatedContent = \"识别失败，请重试\";\n      } finally {\n        this.isLoading = false; // 结束加载\n      }\n    },\n    // 生成tts\n    async generateTTS(content) {\n      const { apiUrl, apiKey, modelName } = API_CONFIG[\"stepfunTTS\"];\n      const input = content;\n      const voice = \"jilingshaonv\";\n\n      try {\n        const blob = await fetchTTS(apiUrl, apiKey, modelName, input, voice);\n        this.audioUrl = URL.createObjectURL(blob);\n        // 自动播放音频\n        this.$nextTick(() => {\n          const audioElement = this.$el.querySelector(\"audio\");\n          if (audioElement) {\n            audioElement.play();\n          }\n        });\n      } catch (error) {\n        console.error(\"Error generating speech:\", error);\n      }\n    },\n    playAudio() {\n      const audio = this.$refs.audioRef;\n      if (audio) {\n        audio.play().catch((error) => {\n          console.error(\"音频播放错误:\", error);\n        });\n      }\n    },\n    // 打开分享弹窗\n    openShareDialog() {\n      this.isShareDialogOpen = true;\n    },\n\n    // 关闭分享弹窗\n    closeShareDialog() {\n      this.isShareDialogOpen = false;\n    },\n\n    // 保存分享内容到本地\n    saveShareToLocal() {\n      const postCardElement = document.querySelector(\".post-card\"); // 获取 .post-card 元素\n      if (!postCardElement) {\n        alert(\"未找到分享内容\");\n        return;\n      }\n      // 使用 html2canvas 生成图片\n      html2canvas(postCardElement, {\n        allowTaint: true, // 允许跨域\n        useCORS: true, // 启用 CORS\n        scale: 2, // 提高分辨率，避免模糊\n        onclone: (clonedDoc) => {\n          // 在克隆的文档中调整图片样式，确保图片不会被拉伸\n          const clonedImg = clonedDoc.querySelector(\".image-preview img\");\n          if (clonedImg) {\n            // 确保图片保持比例\n            clonedImg.style.objectFit = \"cover\";\n            clonedImg.style.width = \"100%\";\n            clonedImg.style.height = \"100%\";\n          }\n        },\n      })\n        .then((canvas) => {\n          // 将 canvas 转为 Data URL\n          const imageUrl = canvas.toDataURL(\"image/png\");\n\n          // 创建一个下载链接并触发点击事件保存图片\n          const link = document.createElement(\"a\");\n          link.href = imageUrl;\n          link.download = \"pet-conversation.png\"; // 图片的默认保存名\n          link.click(); // 模拟点击下载图片\n        })\n        .catch((error) => {\n          console.error(\"生成图片失败:\", error);\n          alert(\"生成图片失败，请重试\");\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  padding-bottom: 50px;\n}\n.head-title {\n  font-size: 16px;\n  margin-bottom: 10px;\n}\n\n.propup {\n  z-index: 999;\n}\n.post-card {\n  width: 100%;\n  border-radius: 20px;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  background-color: #fff;\n}\n\n.avatar {\n  height: 35px;\n  width: 35px;\n  border-radius: 50%;\n  background-color: blueviolet;\n  background-image: linear-gradient(to top left, blueviolet, rgb(73, 31, 112));\n}\n\n.title {\n  font-size: 20px;\n  line-height: 22px;\n  font-weight: 600;\n  color: #000000;\n  text-decoration: none;\n  transition: all 0.35s ease-in;\n}\n\n.title:hover {\n  text-decoration: underline blueviolet;\n}\n\n.datetime {\n  font-size: 12px;\n  color: rgb(168 179 207);\n  margin: 10px 0;\n}\n\n.image-preview {\n  flex: 1;\n  width: 100%;\n  border-radius: 20px;\n  min-height: 200px;\n}\n.image-preview img {\n  width: 100%;\n  height: 300px;\n  object-fit: over;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Glm4V.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Glm4V.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Glm4V.vue?vue&type=template&id=f53a6e36&scoped=true\"\nimport script from \"./Glm4V.vue?vue&type=script&lang=js\"\nexport * from \"./Glm4V.vue?vue&type=script&lang=js\"\nimport style0 from \"./Glm4V.vue?vue&type=style&index=0&id=f53a6e36&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f53a6e36\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mx-auto pl-4 pr-4\"},[_c('div',{staticClass:\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\"},[_c('div',{staticClass:\"w-full aspect-square mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0\"},[(_vm.imageUrl)?[_c('img',{staticClass:\"w-full h-full object-cover\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Uploaded Image\"}})]:[_vm._m(0)]],2),_c('div',{staticClass:\"w-full lg:w-1/2 flex flex-col justify-between\"},[_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],staticClass:\"text-sm w-full h-[80px] p-2 text-lg border rounded-md focus:ring-2\",attrs:{\"placeholder\":\"请输入需要生成的图片，尽可能描述清楚图片内容，才能更加准确地生成图片！\"},domProps:{\"value\":(_vm.inputText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.inputText=$event.target.value}}}),_c('div',{staticClass:\"my-4\"},[_c('label',{staticClass:\"block text-lg font-medium mb-2 text-sm\"},[_vm._v(\"选择风格 \"),_c('span',{staticClass:\"text-blue-500 cursor-pointer float-right\",on:{\"click\":_vm.shuffleStyles}},[_vm._v(\"换一批\")])]),_c('div',{staticClass:\"grid grid-cols-4 gap-1\"},_vm._l((_vm.currentStyles),function(style){return _c('button',{key:style.name,class:[\n                'p-2 rounded-md border focus:outline-none',\n                _vm.selectedStyle === style.name\n                  ? 'bg-blue-500 text-white'\n                  : 'bg-gray-200',\n              ],staticStyle:{\"font-size\":\"14px\"},on:{\"click\":function($event){return _vm.selectStyle(style.name)}}},[_vm._v(\" \"+_vm._s(style.name)+\" \")])}),0)])]),_c('div',[_c('button',{staticClass:\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\",attrs:{\"disabled\":!_vm.inputText || _vm.isLoading},on:{\"click\":_vm.submitData}},[_vm._v(\" \"+_vm._s(_vm.isLoading ? \"创作中...\" : \"开始创作\")+\" \")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full h-full bg-gray-100 flex items-center justify-center\"},[_c('img',{staticClass:\"w-full h-full object-cover\",attrs:{\"src\":require(\"@/assets/quote.gif\"),\"alt\":\"动态图片\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mx-auto pl-4 pr-4\">\n    <div class=\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\">\n      <!-- 图片展示区域 -->\n      <div\n        class=\"w-full aspect-square mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0\"\n      >\n        <template v-if=\"imageUrl\">\n          <img\n            :src=\"imageUrl\"\n            alt=\"Uploaded Image\"\n            class=\"w-full h-full object-cover\"\n          />\n        </template>\n        <template v-else>\n          <div\n            class=\"w-full h-full bg-gray-100 flex items-center justify-center\"\n          >\n            <img\n              src=\"@/assets/quote.gif\"\n              alt=\"动态图片\"\n              class=\"w-full h-full object-cover\"\n            />\n          </div>\n        </template>\n      </div>\n\n      <div class=\"w-full lg:w-1/2 flex flex-col justify-between\">\n        <div>\n          <!-- <h2 class=\"head-title font-bold text-left cursor-pointer transition-all\">AI图片生成器</h2> -->\n\n          <textarea\n            v-model=\"inputText\"\n            class=\"text-sm w-full h-[80px] p-2 text-lg border rounded-md focus:ring-2\"\n            placeholder=\"请输入需要生成的图片，尽可能描述清楚图片内容，才能更加准确地生成图片！\"\n          ></textarea>\n\n          <div class=\"my-4\">\n            <label class=\"block text-lg font-medium mb-2 text-sm\"\n              >选择风格\n              <span\n                @click=\"shuffleStyles\"\n                class=\"text-blue-500 cursor-pointer float-right\"\n                >换一批</span\n              >\n            </label>\n            <div class=\"grid grid-cols-4 gap-1\">\n              <button\n                v-for=\"style in currentStyles\"\n                :key=\"style.name\"\n                style=\"font-size: 14px\"\n                :class=\"[\n                  'p-2 rounded-md border focus:outline-none',\n                  selectedStyle === style.name\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200',\n                ]\"\n                @click=\"selectStyle(style.name)\"\n              >\n                {{ style.name }}\n              </button>\n            </div>\n          </div>\n        </div>\n        <div>\n          <button\n            @click=\"submitData\"\n            class=\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\"\n            :disabled=\"!inputText || isLoading\"\n          >\n            {{ isLoading ? \"创作中...\" : \"开始创作\" }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API_CONFIG } from \"../../utils/api\";\n\nimport { ImageCogView } from \"../../utils/prompt.js\";\nexport default {\n  data() {\n    return {\n      inputText: \"\",\n      selectedStyle: \"\",\n      imageUrl: \"\",\n      isLoading: false,\n      styles: ImageCogView,\n      currentStyles: [],\n    };\n  },\n  methods: {\n    selectStyle(styleName) {\n      this.selectedStyle = styleName;\n    },\n    shuffleStyles() {\n      // 随机从styles中选择3个不同的风格\n      const shuffled = this.styles.sort(() => Math.random() - 0.5).slice(0, 4);\n      this.currentStyles = shuffled;\n    },\n    async submitData() {\n      if (!this.inputText) return;\n\n      const { apiUrl, apiKey, modelName } = API_CONFIG[\"bigmodelCogview\"];\n      const stylePrompt =\n        this.styles.find((style) => style.name === this.selectedStyle)\n          ?.prompt || \"\";\n      const fullPrompt = `${this.inputText}，${stylePrompt}`;\n\n      await this.getAIResponse(apiUrl, apiKey, modelName, fullPrompt);\n    },\n    async getAIResponse(apiUrl, apiKey, modelName, prompt) {\n      this.isLoading = true;\n      this.imageUrl = null;\n      try {\n        const requestBody = {\n          model: modelName,\n          prompt,\n        };\n        const response = await fetch(apiUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`,\n          },\n          body: JSON.stringify(requestBody),\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const result = await response.json();\n        this.imageUrl = result.data[0]?.url || \"\";\n      } catch (error) {\n        console.error(\"Error fetching AI response:\", error);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  },\n  mounted() {\n    // 初始化时先加载3个风格\n    this.shuffleStyles();\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  padding-bottom: 50px;\n}\ntextarea {\n  outline: none;\n}\n.head-title {\n  font-size: 16px;\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CogView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CogView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CogView.vue?vue&type=template&id=462bc2e6&scoped=true\"\nimport script from \"./CogView.vue?vue&type=script&lang=js\"\nexport * from \"./CogView.vue?vue&type=script&lang=js\"\nimport style0 from \"./CogView.vue?vue&type=style&index=0&id=462bc2e6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"462bc2e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mx-auto pl-4 pr-4\"},[_c('div',{staticClass:\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\"},[_c('div',{staticClass:\"w-full aspect-[4/3] mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0\"},[(_vm.videoUrl)?_c('video',{staticClass:\"w-full h-full object-cover\",attrs:{\"src\":_vm.videoUrl,\"poster\":_vm.coverImageUrl,\"controls\":\"\"}}):_c('div',{staticClass:\"w-full h-full bg-gray-100 flex items-center justify-center\"},[_c('img',{staticStyle:{\"width\":\"400px\",\"height\":\"400px\"},attrs:{\"src\":require(\"@/assets/quote.gif\"),\"alt\":\"动态图片\"}})])]),_c('div',{staticClass:\"w-full lg:w-1/2 flex flex-col justify-between\"},[_c('div',[_c('div',{staticClass:\"relative\"},[_c('label',{staticClass:\"text-sm font-semibold\",attrs:{\"for\":\"inputText\"}},[_vm._v(\"AI梦境生成器 \"),_c('a',{staticClass:\"text-blue-500 cursor-pointer float-right\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.optimizeInput}},[_vm._v(\"优化提示词\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],staticClass:\"text-sm w-full h-[120px] p-2 text-lg border rounded-md focus:ring-2 mb-4 mt-2\",attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请输入梦境描述，详细描绘梦中的场景、人物、情感和细节，越具体越能还原出真实的梦境画面！\"},domProps:{\"value\":(_vm.inputText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.inputText=$event.target.value}}})])]),_c('button',{staticClass:\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\",attrs:{\"disabled\":!_vm.inputText || _vm.isLoading},on:{\"click\":_vm.submitData}},[_vm._v(\" \"+_vm._s(_vm.isLoading ? _vm.inputTip : \"开始创作\")+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mx-auto pl-4 pr-4\">\n    <div class=\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\">\n      <!-- 视频展示区域 -->\n      <div\n        class=\"w-full aspect-[4/3] mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0\"\n      >\n        <video\n          :src=\"videoUrl\"\n          :poster=\"coverImageUrl\"\n          controls\n          class=\"w-full h-full object-cover\"\n          v-if=\"videoUrl\"\n        ></video>\n        <div\n          class=\"w-full h-full bg-gray-100 flex items-center justify-center\"\n          v-else\n        >\n          <img\n            src=\"@/assets/quote.gif\"\n            alt=\"动态图片\"\n            style=\"width: 400px; height: 400px\"\n          />\n        </div>\n      </div>\n\n      <div class=\"w-full lg:w-1/2 flex flex-col justify-between\">\n        <div>\n          <div class=\"relative\">\n            <label for=\"inputText\" class=\"text-sm font-semibold\"\n              >AI梦境生成器\n\n              <a\n                href=\"javascript:void(0)\"\n                class=\"text-blue-500 cursor-pointer float-right\"\n                @click=\"optimizeInput\"\n                >优化提示词</a\n              >\n            </label>\n            <textarea\n              v-model=\"inputText\"\n              :disabled=\"disabled\"\n              class=\"text-sm w-full h-[120px] p-2 text-lg border rounded-md focus:ring-2 mb-4 mt-2\"\n              placeholder=\"请输入梦境描述，详细描绘梦中的场景、人物、情感和细节，越具体越能还原出真实的梦境画面！\"\n            ></textarea>\n          </div>\n        </div>\n        <button\n          @click=\"submitData\"\n          class=\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\"\n          :disabled=\"!inputText || isLoading\"\n        >\n          {{ isLoading ? inputTip : \"开始创作\" }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API_CONFIG } from \"../../utils/api\";\n\nexport default {\n  data() {\n    return {\n      inputText: \"\",\n      videoUrl: \"\",\n      coverImageUrl: \"\",\n      isLoading: false,\n      disabled: false,\n      inputTip: \"\",\n    };\n  },\n  methods: {\n    async optimizeInput() {\n      if (!this.inputText) return;\n\n      this.isLoading = true;\n      try {\n        this.inputTip = \"提示词优化中，请稍后！\";\n        const optimizedPrompt = await this.optimizePrompt(this.inputText);\n        if (optimizedPrompt) {\n          this.inputText = optimizedPrompt;\n        }\n      } catch (error) {\n        console.error(\"Error optimizing prompt:\", error);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async submitData() {\n      if (!this.inputText) return;\n\n      // 直接生成视频\n      const { apiUrl, apiKey, modelName } = API_CONFIG[\"bigmodelCogVideo\"];\n      const fullPrompt = `${this.inputText}`;\n\n      // 生成视频并轮询任务状态\n      const taskId = await this.generateVideo(\n        apiUrl,\n        apiKey,\n        modelName,\n        fullPrompt\n      );\n      if (taskId) {\n        await this.pollTaskStatus(taskId);\n      }\n    },\n    async optimizePrompt(userInput) {\n      try {\n        const { apiUrl, apiKey, modelName } = API_CONFIG[\"bigmodel\"];\n        const requestBody = {\n          model: modelName,\n          stream: false,\n          temperature: 0.8,\n          messages: [\n            {\n              role: \"system\",\n              content: `你是一名提示词优化助手，请将用户的白话描述转换为适合生成视频的详细提示词。要求：\n\n1. 保留核心人物、环境、动作及情感细节，准确传达故事主旨；\n2. 添加适合视频生成的画面描述，包括光线、色彩、动作、镜头角度、背景和氛围等；\n3. 确保简洁明了，突出视频的关键元素，使其不超过 150 字。\n\n### 示例：\n**用户描述**：我梦到被一群猫追逐。\n**优化后的提示词**：\"镜头从低处逐渐拉远，拍摄一名人物在昏暗的街道上奔跑（人物描述）。周围是一群猫（主体描述），它们的眼睛在微弱的路灯下闪烁，步伐轻盈且迅速。画面带有轻微的晃动，增强紧张感，猫群的快速移动在镜头前形成模糊的影像。背景色调偏冷，夜晚的空气中弥漫着神秘感，人物的脸上充满恐慌。\"\n`,\n            },\n            { role: \"user\", content: `${userInput}` },\n          ],\n        };\n        const response = await fetch(apiUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`,\n          },\n          body: JSON.stringify(requestBody),\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const result = await response.json();\n        return result.choices[0].message.content || \"\";\n      } catch (error) {\n        console.error(\"Error optimizing prompt:\", error);\n        return null;\n      }\n    },\n    async generateVideo(apiUrl, apiKey, modelName, prompt) {\n      this.inputTip = \"生成中，请不要退出页面！\";\n      this.isLoading = true;\n      this.videoUrl = null;\n      try {\n        const requestBody = {\n          model: modelName,\n          prompt,\n          with_audio: true,\n        };\n        const response = await fetch(apiUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`,\n          },\n          body: JSON.stringify(requestBody),\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        return result.id; // 假设返回的任务 ID 字段为 task_id\n      } catch (error) {\n        console.error(\"Error generating video:\", error);\n        return null;\n      }\n    },\n    async pollTaskStatus(taskId) {\n      const { apiKey } = API_CONFIG[\"bigmodelCogVideo\"];\n      const maxAttempts = 30; // 最大轮询次数\n      const interval = 5000; // 轮询间隔 5 秒\n\n      for (let i = 0; i < maxAttempts; i++) {\n        try {\n          const response = await fetch(\n            `https://open.bigmodel.cn/api/paas/v4/async-result/${taskId}`,\n            {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${apiKey}`,\n              },\n            }\n          );\n\n          if (!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n          }\n\n          const result = await response.json();\n          if (result.task_status === \"SUCCESS\") {\n            this.isLoading = false;\n            this.videoUrl = result.video_result[0]?.url;\n            this.coverImageUrl = result.video_result[0]?.cover_image_url;\n            return;\n          } else if (result.status === \"failed\") {\n            throw new Error(\"Video generation failed\");\n          }\n        } catch (error) {\n          console.error(\"Error polling task status:\", error);\n          return;\n        }\n\n        await new Promise((resolve) => setTimeout(resolve, interval));\n      }\n\n      console.error(\"Task polling timed out\");\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\n.container {\n  padding-bottom: 50px;\n}\ntextarea {\n  outline: none;\n}\n.head-title {\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoGlm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoGlm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VideoGlm.vue?vue&type=template&id=17fd366c&scoped=true\"\nimport script from \"./VideoGlm.vue?vue&type=script&lang=js\"\nexport * from \"./VideoGlm.vue?vue&type=script&lang=js\"\nimport style0 from \"./VideoGlm.vue?vue&type=style&index=0&id=17fd366c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17fd366c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mx-auto pl-4 pr-4\"},[_c('div',{staticClass:\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\"},[_c('div',{staticClass:\"w-full aspect-[4/3] mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0 relative\"},[(_vm.imageUrl && !_vm.videoUrl)?_c('img',{staticClass:\"w-full h-full object-cover absolute top-0 left-0\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Uploaded Image\"}}):_vm._e(),(_vm.videoUrl)?_c('video',{staticClass:\"w-full h-full object-cover\",attrs:{\"src\":_vm.videoUrl,\"poster\":_vm.coverImageUrl,\"controls\":\"\"}}):_vm._e(),(_vm.isLoading && _vm.imageUrl)?_c('div',{staticClass:\"absolute top-0 left-0 w-full h-full flex justify-center items-center bg-gray-900 bg-opacity-50\"},[_c('div',{staticClass:\"spinner-border animate-spin border-t-4 border-b-4 border-blue-500 w-16 h-16 rounded-full\"})]):_vm._e(),(!_vm.videoUrl && !_vm.imageUrl)?_c('div',{staticClass:\"w-full h-full bg-gray-100 flex items-center justify-center\"},[_c('img',{staticStyle:{\"width\":\"400px\",\"height\":\"400px\"},attrs:{\"src\":require(\"@/assets/quote.gif\"),\"alt\":\"动态图片\"}})]):_vm._e()]),_c('div',{staticClass:\"w-full lg:w-1/2 flex flex-col justify-between\"},[_c('div',[_c('label',{staticClass:\"text-sm font-semibold mb-2\",attrs:{\"for\":\"imageUpload\"}},[_vm._v(\"上传图像（可选）\")]),_c('input',{staticClass:\"mb-4 mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed\",attrs:{\"type\":\"file\",\"accept\":\"image/jpg, image/jpeg, image/png\",\"disabled\":_vm.isLoading},on:{\"change\":_vm.handleImageUpload}})]),_c('div',{staticClass:\"relative\"},[_c('label',{staticClass:\"text-sm font-semibold\",attrs:{\"for\":\"inputText\"}},[_vm._v(\" 描述 \"),_c('a',{staticClass:\"text-blue-500 cursor-pointer float-right\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.optimizeInput}},[_vm._v(\"优化提示词\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],staticClass:\"text-sm w-full h-[120px] p-2 text-lg border rounded-md focus:ring-2 mb-4 mt-2\",attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请输入您希望生成的视频效果描述！\"},domProps:{\"value\":(_vm.inputText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.inputText=$event.target.value}}})]),_c('button',{staticClass:\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\",attrs:{\"disabled\":!_vm.inputText || _vm.isLoading},on:{\"click\":_vm.submitData}},[_vm._v(\" \"+_vm._s(_vm.isLoading ? _vm.inputTip : \"开始创作\")+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mx-auto pl-4 pr-4\">\n    <!-- 选项卡切换 -->\n\n    <div class=\"flex flex-col lg:flex-row lg:gap-8 lg:mt-10\">\n      <!-- 视频展示区域 -->\n      <div\n        class=\"w-full aspect-[4/3] mb-4 rounded-md overflow-hidden lg:w-1/2 lg:mb-0 relative\"\n      >\n        <!-- 如果图片上传了，则显示上传的图片 -->\n        <img\n          v-if=\"imageUrl && !videoUrl\"\n          :src=\"imageUrl\"\n          alt=\"Uploaded Image\"\n          class=\"w-full h-full object-cover absolute top-0 left-0\"\n        />\n        <!-- 视频显示 -->\n        <video\n          v-if=\"videoUrl\"\n          :src=\"videoUrl\"\n          :poster=\"coverImageUrl\"\n          controls\n          class=\"w-full h-full object-cover\"\n        ></video>\n        <!-- 加载动画 -->\n        <div\n          v-if=\"isLoading && imageUrl\"\n          class=\"absolute top-0 left-0 w-full h-full flex justify-center items-center bg-gray-900 bg-opacity-50\"\n        >\n          <div\n            class=\"spinner-border animate-spin border-t-4 border-b-4 border-blue-500 w-16 h-16 rounded-full\"\n          ></div>\n        </div>\n        <div\n          v-if=\"!videoUrl && !imageUrl\"\n          class=\"w-full h-full bg-gray-100 flex items-center justify-center\"\n        >\n          <img\n            src=\"@/assets/quote.gif\"\n            alt=\"动态图片\"\n            style=\"width: 400px; height: 400px\"\n          />\n        </div>\n      </div>\n\n      <div class=\"w-full lg:w-1/2 flex flex-col justify-between\">\n        <!-- 上传图片 -->\n        <div>\n          <label for=\"imageUpload\" class=\"text-sm font-semibold mb-2\"\n            >上传图像（可选）</label\n          >\n          <input\n            type=\"file\"\n            accept=\"image/jpg, image/jpeg, image/png\"\n            @change=\"handleImageUpload\"\n            :disabled=\"isLoading\"\n            class=\"mb-4 mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n          />\n        </div>\n\n        <div class=\"relative\">\n          <label for=\"inputText\" class=\"text-sm font-semibold\">\n            描述\n            <a\n              href=\"javascript:void(0)\"\n              class=\"text-blue-500 cursor-pointer float-right\"\n              @click=\"optimizeInput\"\n              >优化提示词</a\n            >\n          </label>\n          <textarea\n            v-model=\"inputText\"\n            :disabled=\"disabled\"\n            class=\"text-sm w-full h-[120px] p-2 text-lg border rounded-md focus:ring-2 mb-4 mt-2\"\n            placeholder=\"请输入您希望生成的视频效果描述！\"\n          ></textarea>\n        </div>\n\n        <button\n          @click=\"submitData\"\n          class=\"text-sm w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all\"\n          :disabled=\"!inputText || isLoading\"\n        >\n          {{ isLoading ? inputTip : \"开始创作\" }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API_CONFIG } from \"../../utils/api\";\n\nexport default {\n  data() {\n    return {\n      inputText: \"\",\n      videoUrl: \"\",\n      coverImageUrl: \"\",\n      imageUrl: null, // 用于显示上传的图片\n      imageBase64: \"\", // 用于传递Base64编码的图片\n      isLoading: false,\n      disabled: false,\n      inputTip: \"\",\n      generatedContent: null,\n    };\n  },\n  methods: {\n    async optimizeInput() {\n      if (!this.inputText) return;\n\n      this.isLoading = true;\n      try {\n        this.inputTip = \"提示词优化中，请稍后！\";\n        const optimizedPrompt = await this.optimizePrompt(this.inputText);\n        if (optimizedPrompt) {\n          this.inputText = optimizedPrompt;\n        }\n      } catch (error) {\n        console.error(\"Error optimizing prompt:\", error);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async submitData() {\n      if (!this.inputText) return;\n\n      // 直接生成视频\n      const { apiUrl, apiKey, modelName } = API_CONFIG[\"bigmodelCogVideo\"];\n      const fullPrompt = `${this.inputText}`;\n\n      // 如果有上传的图像，将图像 URL 或 Base64 传入\n      const requestBody = {\n        model: modelName,\n        prompt: fullPrompt,\n        with_audio: true,\n        image_url: this.imageBase64\n          ? `data:image/png;base64,${this.imageBase64}`\n          : null,\n      };\n\n      // 生成视频并轮询任务状态\n      const taskId = await this.generateVideo(\n        apiUrl,\n        apiKey,\n        modelName,\n        requestBody\n      );\n      if (taskId) {\n        await this.pollTaskStatus(taskId);\n      }\n    },\n    async optimizePrompt(userInput) {\n      try {\n        const { apiUrl, apiKey, modelName } = API_CONFIG[\"bigmodel\"];\n        const requestBody = {\n          model: modelName,\n          stream: false,\n          temperature: 0.8,\n          messages: [\n            {\n              role: \"system\",\n              content: `你是一名提示词优化助手，请将用户的白话描述转换更加动人和详细，重点在动作，100以内`,\n            },\n            { role: \"user\", content: `${userInput}` },\n          ],\n        };\n        const response = await fetch(apiUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`,\n          },\n          body: JSON.stringify(requestBody),\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const result = await response.json();\n        return result.choices[0].message.content || \"\";\n      } catch (error) {\n        console.error(\"Error optimizing prompt:\", error);\n        return null;\n      }\n    },\n    async generateVideo(apiUrl, apiKey, modelName, requestBody) {\n      this.inputTip = \"生成中，请不要退出页面！\";\n      this.isLoading = true;\n      this.videoUrl = null;\n      try {\n        const response = await fetch(apiUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`,\n          },\n          body: JSON.stringify(requestBody),\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        return result.id; // 假设返回的任务 ID 字段为 task_id\n      } catch (error) {\n        console.error(\"Error generating video:\", error);\n        return null;\n      }\n    },\n    async pollTaskStatus(taskId) {\n      const { apiKey } = API_CONFIG[\"bigmodelCogVideo\"];\n      const maxAttempts = 30; // 最大轮询次数\n      const interval = 5000; // 轮询间隔 5 秒\n\n      for (let i = 0; i < maxAttempts; i++) {\n        try {\n          const response = await fetch(\n            `https://open.bigmodel.cn/api/paas/v4/async-result/${taskId}`,\n            {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${apiKey}`,\n              },\n            }\n          );\n\n          if (!response.ok) {\n            const errorResponse = await response.json(); // 解析错误响应\n            const errorMessage =\n              errorResponse.error?.message ||\n              `HTTP error! Status: ${response.status}`;\n            throw new Error(errorMessage); // 抛出错误信息\n          }\n\n          const result = await response.json();\n          if (result.task_status === \"SUCCESS\") {\n            this.isLoading = false;\n            this.videoUrl = result.video_result[0]?.url;\n            this.coverImageUrl = result.video_result[0]?.cover_image_url;\n            this.imageUrl = null; // 清除上传的图片\n            return;\n          } else if (result.status === \"failed\") {\n            throw new Error(\"Video generation failed\");\n          }\n        } catch (error) {\n          console.error(\"Error polling task status:\", error);\n          alert(error.message); // 弹出错误信息\n          this.isLoading = false;\n          this.videoUrl = null;\n          this.coverImageUrl = null;\n          this.imageUrl = null;\n          this.inputText = \"\";\n          return;\n        }\n\n        await new Promise((resolve) => setTimeout(resolve, interval));\n      }\n\n      console.error(\"Task polling timed out\");\n    },\n\n    // 上传图片\n    async handleImageUpload(event) {\n      this.generatedContent = null;\n      const file = event.target.files[0];\n      if (!file) return;\n\n      // 检查文件格式\n      const allowedTypes = [\"image/jpg\", \"image/jpeg\", \"image/png\"];\n      if (!allowedTypes.includes(file.type)) {\n        alert(\"仅支持 JPG、JPEG、PNG 格式的图片\");\n        return;\n      }\n\n      // 检查图片像素（不超过 6000x6000）\n      const img = new Image();\n      img.src = URL.createObjectURL(file);\n      img.onload = async () => {\n        const width = img.width;\n        const height = img.height;\n        if (width > 6000 || height > 6000) {\n          alert(\"图片像素不能超过 6000x6000\");\n          return;\n        }\n\n        // 如果图片大小超过 5MB，则进行压缩\n        if (file.size > 5 * 1024 * 1024) {\n          try {\n            const compressedFile = await this.compressImage(file);\n            this.imageUrl = URL.createObjectURL(compressedFile);\n            this.imageBase64 = await this.fileToBase64(compressedFile);\n          } catch (error) {\n            console.error(\"图片压缩失败:\", error);\n            alert(\"图片压缩失败，请重试\");\n            return;\n          }\n        } else {\n          // 图片大小在 5MB 以内，直接处理\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            this.imageUrl = e.target.result; // 用于显示图片\n            this.imageBase64 = e.target.result.split(\",\")[1]; // 提取 Base64 数据部分\n          };\n          reader.readAsDataURL(file);\n        }\n      };\n    },\n\n    // 压缩图片\n    compressImage(file) {\n      return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.src = URL.createObjectURL(file);\n        img.onload = () => {\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\");\n\n          // 设置最大宽度和高度\n          const maxWidth = 6000;\n          const maxHeight = 6000;\n          let width = img.width;\n          let height = img.height;\n\n          if (width > maxWidth || height > maxHeight) {\n            const ratio = Math.min(maxWidth / width, maxHeight / height);\n            width *= ratio;\n            height *= ratio;\n          }\n\n          canvas.width = width;\n          canvas.height = height;\n\n          // 绘制图片到 canvas\n          ctx.drawImage(img, 0, 0, width, height);\n\n          // 将 canvas 转换为 Blob\n          canvas.toBlob(\n            (blob) => {\n              if (!blob) {\n                reject(new Error(\"图片压缩失败\"));\n                return;\n              }\n\n              // 检查压缩后的文件大小\n              if (blob.size > 5 * 1024 * 1024) {\n                // 如果仍然大于 5MB，降低质量\n                canvas.toBlob(\n                  (newBlob) => {\n                    if (!newBlob) {\n                      reject(new Error(\"图片压缩失败\"));\n                      return;\n                    }\n                    resolve(newBlob);\n                  },\n                  file.type,\n                  0.5 // 降低质量\n                );\n              } else {\n                resolve(blob);\n              }\n            },\n            file.type,\n            0.8 // 初始质量\n          );\n        };\n        img.onerror = (error) => reject(error);\n      });\n    },\n\n    // 将文件转换为 Base64\n    fileToBase64(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (e) => resolve(e.target.result.split(\",\")[1]);\n        reader.onerror = (error) => reject(error);\n        reader.readAsDataURL(file);\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  margin: 0 auto;\n  padding-bottom: 50px;\n}\ntextarea {\n  outline: none;\n}\n.head-title {\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n.spinner-border {\n  border-width: 4px;\n  border-top-color: #3498db;\n  border-bottom-color: #3498db;\n  border-radius: 50%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoImg.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoImg.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VideoImg.vue?vue&type=template&id=57107ea7&scoped=true\"\nimport script from \"./VideoImg.vue?vue&type=script&lang=js\"\nexport * from \"./VideoImg.vue?vue&type=script&lang=js\"\nimport style0 from \"./VideoImg.vue?vue&type=style&index=0&id=57107ea7&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57107ea7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('footer',{staticClass:\"fixed bottom-1 left-3 right-3 border-gray-200 text-xs text-center text-gray-500 z-1\"},[_c('a',{staticClass:\"text-black-500\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.showInfo = true}}},[_vm._v(\" [Model List]\")])]),(_vm.showWeChatQR)?_c('div',{staticClass:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.showWeChatQR = false}}},[_c('div',{staticClass:\"bg-white p-4 rounded-lg\"},[_c('img',{staticClass:\"w-64 h-100\",attrs:{\"src\":_vm.wechatQR,\"alt\":\"WeChat QR Code\"}})])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.showInfo = false}}},[_c('CodeBlock',{attrs:{\"code\":_vm.modelIntroduce,\"language\":\"markdown\",\"showCopyButton\":false}})],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 底部介绍 -->\n    <footer\n      class=\"fixed bottom-1 left-3 right-3 border-gray-200 text-xs text-center text-gray-500 z-1\"\n    >\n      <a href=\"javascript:;\" class=\"text-black-500\" @click=\"showInfo = true\">\n        [Model List]</a\n      >\n    </footer>\n    <div\n      v-if=\"showWeChatQR\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      @click.self=\"showWeChatQR = false\"\n    >\n      <div class=\"bg-white p-4 rounded-lg\">\n        <img :src=\"wechatQR\" alt=\"WeChat QR Code\" class=\"w-64 h-100\" />\n      </div>\n    </div>\n\n    <div\n      v-if=\"showInfo\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      @click.self=\"showInfo = false\"\n    >\n      <CodeBlock\n        :code=\"modelIntroduce\"\n        language=\"markdown\"\n        :showCopyButton=\"false\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport CodeBlock from \"./CodeBlock.vue\";\nexport default {\n  components: {\n    CodeBlock,\n  },\n  name: \"FooterBox\",\n  data() {\n    return {\n      showWeChatQR: false,\n      showInfo: false,\n      modelIntroduce: `\n🤖 多模型\n\n-   DeepSeek：deepseek-v3 & deepseek-r1\n-   Gemini：gemini-2.0-flash\n-   GPT：gpt-4o-mini\n-   智谱清言：glm-4v-flash\n-   月之暗面：moonshot-v1-8k\n-   零一万物：yi-lightning\n-   通义千问：qwen4-plus\n-   阶跃星辰：step-1-flash\n-   百川智能：Baichuan4-Turbo\n-   MINIMAX：MiniMax-Text-01\n\n🖼️ 图片识别\n\n-   阶跃星辰：step-1o-turbo-vision\n-   阶跃星辰：step-tts-mini\n\n😍 图片生成\n\n-   智谱清言：cogview-3-flash\n `,\n    };\n  },\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FooterBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FooterBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FooterBox.vue?vue&type=template&id=a100edd2&scoped=true\"\nimport script from \"./FooterBox.vue?vue&type=script&lang=js\"\nexport * from \"./FooterBox.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a100edd2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full bg-main\"},[_c('div',{staticClass:\"main min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full\"},[_c('div',{staticStyle:{\"padding\":\"16px 0\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"font-size\":\"20px\"}},[_vm._v(\" 百炼RAG对话 \")]),_c('div',{ref:\"chatContainer\",staticClass:\"flex-1 p-2 overflow-y-auto pb-2 chatContainer\"},_vm._l((_vm.messages),function(message){return _c('div',{key:message.id,class:message.role === 'user'\n            ? 'flex justify-end items-start gap-2 mb-4'\n            : 'flex justify-start items-start gap-2 mb-4'},[(message.role === 'assistant')?_c('div',{staticClass:\"w-10 h-10 flex items-center justify-center rounded-full\"},[(message.roleImgUrl)?_c('img',{staticClass:\"w-full h-full object-cover rounded-full\",attrs:{\"src\":message.roleImgUrl}}):_c('img',{staticClass:\"w-full h-full object-cover rounded-full\",attrs:{\"src\":require(\"@/assets/qwen.jpg\"),\"alt\":\"前端面试RAG\"}})]):_vm._e(),_c('div',{staticClass:\"flex flex-col relative\",staticStyle:{\"max-width\":\"calc(100% - 50px)\"}},[(message.role === 'assistant')?_c('span',{staticClass:\"text-sm font-medium mb-1 text-left text-gray-600\"},[_vm._v(\" 前端面试RAG \")]):_vm._e(),_c('div',{class:message.role === 'user'\n                ? 'user-bubble'\n                : 'ai-bubble relative group text-sm'},[(message.role === 'user')?_c('div',[_vm._v(\" \"+_vm._s(message.content)+\" \")]):_c('div',[(\n                  message.contentSearchResults &&\n                  message.contentSearchResults.length > 0\n                )?_c('div',{staticClass:\"search-result-card\"},[_c('div',{staticClass:\"reasoning-toggle\",on:{\"click\":function($event){message._expandSearch = !message._expandSearch}}},[_c('span',[_vm._v(\"联网查询结果（\"+_vm._s(message.contentSearchResults.length)+\" 条）\")]),_c('svg',{staticClass:\"h-4 w-4\",style:({\n                      transform: message._expandSearch\n                        ? 'rotate(180deg)'\n                        : '',\n                    }),attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M19 9l-7 7-7-7\"}})])]),(message._expandSearch)?_c('div',{staticClass:\"mt-2\"},[_c('ul',_vm._l((message.contentSearchResults),function(result,idx){return _c('li',{key:idx,staticClass:\"mb-1\"},[_c('a',{staticClass:\"search-result-title\",attrs:{\"href\":result.link,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(_vm._s(idx + 1)+\". \"+_vm._s(result.title || result.url || \"无标题\"))]),_c('div',{staticClass:\"search-result-snippet\"},[_vm._v(\" \"+_vm._s(result.snippet)+\" \")])])}),0)]):_vm._e()]):_vm._e(),(message.reasoningContent)?_c('div',{staticClass:\"reasoning-card\"},[_c('div',{staticClass:\"reasoning-toggle\",on:{\"click\":function($event){message._expandReasoning = !message._expandReasoning}}},[_c('span',[_vm._v(\"深度思考\"+_vm._s(message.reasoningDuration ? `（${message.reasoningDuration}秒）` : \"\"))]),_c('svg',{staticClass:\"h-4 w-4\",style:({\n                      transform: message._expandReasoning\n                        ? 'rotate(180deg)'\n                        : '',\n                    }),attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M19 9l-7 7-7-7\"}})])]),(message._expandReasoning)?_c('div',{staticClass:\"mt-2\"},[_c('pre',{staticClass:\"whitespace-pre-wrap\"},[_vm._v(_vm._s(message.reasoningContent))])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"markdown-content\",domProps:{\"innerHTML\":_vm._s(_vm.renderMarkdown(message.content))}})])])])])}),0),_c('div',{staticClass:\"input-box\",style:({ height: _vm.boxHeight + 'px' })},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSend.apply(null, arguments)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInput),expression:\"userInput\"}],ref:\"textarea\",staticClass:\"input-textarea\",attrs:{\"placeholder\":\"来说点什么...\"},domProps:{\"value\":(_vm.userInput)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.userInput=$event.target.value},_vm.handleInput],\"keydown\":_vm.handleKeydown}}),_c('div',{staticClass:\"input-box-bottom\"},[_c('button',{staticClass:\"send-button\",attrs:{\"disabled\":_vm.isThinking || !_vm.userInput.trim(),\"type\":\"submit\"}},[(!_vm.isThinking)?_c('svg',{attrs:{\"width\":\"14\",\"height\":\"16\",\"viewBox\":\"0 0 14 16\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z\",\"fill\":\"currentColor\"}})]):_c('svg',{attrs:{\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 1024 1024\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"x\":\"141.21\",\"y\":\"141.21\",\"width\":\"741.58\",\"height\":\"741.58\",\"fill\":\"#ffffff\"}})])])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full bg-main\"\n  >\n    <div\n      class=\"main min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full\"\n    >\n      <!-- 模型选择（可选） -->\n      <div\n        style=\"\n          padding: 16px 0;\n          text-align: center;\n          font-weight: bold;\n          font-size: 20px;\n        \"\n      >\n        百炼RAG对话\n      </div>\n      <!-- 聊天记录区域 -->\n      <div\n        ref=\"chatContainer\"\n        class=\"flex-1 p-2 overflow-y-auto pb-2 chatContainer\"\n      >\n        <div\n          v-for=\"message in messages\"\n          :key=\"message.id\"\n          :class=\"\n            message.role === 'user'\n              ? 'flex justify-end items-start gap-2 mb-4'\n              : 'flex justify-start items-start gap-2 mb-4'\n          \"\n        >\n          <div\n            v-if=\"message.role === 'assistant'\"\n            class=\"w-10 h-10 flex items-center justify-center rounded-full\"\n          >\n            <img\n              v-if=\"message.roleImgUrl\"\n              :src=\"message.roleImgUrl\"\n              class=\"w-full h-full object-cover rounded-full\"\n            />\n            <img\n              v-else\n              src=\"@/assets/qwen.jpg\"\n              class=\"w-full h-full object-cover rounded-full\"\n              alt=\"前端面试RAG\"\n            />\n          </div>\n          <div\n            class=\"flex flex-col relative\"\n            style=\"max-width: calc(100% - 50px)\"\n          >\n            <span\n              v-if=\"message.role === 'assistant'\"\n              class=\"text-sm font-medium mb-1 text-left text-gray-600\"\n            >\n              前端面试RAG\n            </span>\n            <div\n              :class=\"\n                message.role === 'user'\n                  ? 'user-bubble'\n                  : 'ai-bubble relative group text-sm'\n              \"\n            >\n              <div v-if=\"message.role === 'user'\">\n                {{ message.content }}\n              </div>\n              <div v-else>\n                <!-- 联网结果卡片 -->\n                <div\n                  v-if=\"\n                    message.contentSearchResults &&\n                    message.contentSearchResults.length > 0\n                  \"\n                  class=\"search-result-card\"\n                >\n                  <div\n                    class=\"reasoning-toggle\"\n                    @click=\"message._expandSearch = !message._expandSearch\"\n                  >\n                    <span\n                      >联网查询结果（{{\n                        message.contentSearchResults.length\n                      }}\n                      条）</span\n                    >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      class=\"h-4 w-4\"\n                      :style=\"{\n                        transform: message._expandSearch\n                          ? 'rotate(180deg)'\n                          : '',\n                      }\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M19 9l-7 7-7-7\"\n                      />\n                    </svg>\n                  </div>\n                  <div v-if=\"message._expandSearch\" class=\"mt-2\">\n                    <ul>\n                      <li\n                        v-for=\"(result, idx) in message.contentSearchResults\"\n                        :key=\"idx\"\n                        class=\"mb-1\"\n                      >\n                        <a\n                          :href=\"result.link\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          class=\"search-result-title\"\n                          >{{ idx + 1 }}.\n                          {{ result.title || result.url || \"无标题\" }}</a\n                        >\n                        <div class=\"search-result-snippet\">\n                          {{ result.snippet }}\n                        </div>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                <!-- 思维链卡片 -->\n                <div v-if=\"message.reasoningContent\" class=\"reasoning-card\">\n                  <div\n                    class=\"reasoning-toggle\"\n                    @click=\"\n                      message._expandReasoning = !message._expandReasoning\n                    \"\n                  >\n                    <span\n                      >深度思考{{\n                        message.reasoningDuration\n                          ? `（${message.reasoningDuration}秒）`\n                          : \"\"\n                      }}</span\n                    >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      class=\"h-4 w-4\"\n                      :style=\"{\n                        transform: message._expandReasoning\n                          ? 'rotate(180deg)'\n                          : '',\n                      }\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M19 9l-7 7-7-7\"\n                      />\n                    </svg>\n                  </div>\n                  <div v-if=\"message._expandReasoning\" class=\"mt-2\">\n                    <pre class=\"whitespace-pre-wrap\">{{\n                      message.reasoningContent\n                    }}</pre>\n                  </div>\n                </div>\n                <!-- markdown/代码块渲染 -->\n                <div\n                  class=\"markdown-content\"\n                  v-html=\"renderMarkdown(message.content)\"\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 输入框区域 -->\n      <div class=\"input-box\" :style=\"{ height: boxHeight + 'px' }\">\n        <form @submit.prevent=\"handleSend\">\n          <textarea\n            class=\"input-textarea\"\n            ref=\"textarea\"\n            @input=\"handleInput\"\n            @keydown=\"handleKeydown\"\n            v-model=\"userInput\"\n            placeholder=\"来说点什么...\"\n          ></textarea>\n          <div class=\"input-box-bottom\">\n            <button\n              class=\"send-button\"\n              :disabled=\"isThinking || !userInput.trim()\"\n              type=\"submit\"\n            >\n              <svg\n                v-if=\"!isThinking\"\n                width=\"14\"\n                height=\"16\"\n                viewBox=\"0 0 14 16\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z\"\n                  fill=\"currentColor\"\n                ></path>\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z\"\n                  fill=\"currentColor\"\n                ></path>\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z\"\n                  fill=\"currentColor\"\n                ></path>\n              </svg>\n              <svg\n                v-else\n                width=\"32\"\n                height=\"32\"\n                viewBox=\"0 0 1024 1024\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <rect\n                  x=\"141.21\"\n                  y=\"141.21\"\n                  width=\"741.58\"\n                  height=\"741.58\"\n                  fill=\"#ffffff\"\n                />\n              </svg>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      messages: [],\n      isThinking: false,\n      mode: \"normal\",\n      model: \"ragchat\", // 这里指定ragchat模型\n      abortController: null,\n      isDeepThinking: false,\n      userInput: \"\",\n      boxHeight: 100,\n      initialHeight: 100,\n    };\n  },\n  methods: {\n    toggleDeepThinking(isDeepThinking) {\n      this.isDeepThinking = isDeepThinking;\n    },\n    async sendMessage(userInput) {\n      if (userInput.trim() === \"\") return;\n      // 不再给 ragchat 预置任何初始消息\n      this.messages.push({\n        role: \"user\",\n        content: userInput,\n        id: Date.now(),\n      });\n      const loadingMessage = {\n        role: \"assistant\",\n        content: \"思考中\",\n        id: \"loading-\" + Date.now(),\n      };\n      this.messages.push(loadingMessage);\n      this.isThinking = true;\n      this.abortController = new AbortController();\n      await this.getAIResponse(loadingMessage.id, this.abortController);\n      this.isThinking = false;\n      this.scrollToBottom();\n    },\n    async getAIResponse(loadingMessageId, controller) {\n      try {\n        // 不再拼接任何系统/初始 prompt\n        const messages = this.messages\n          .filter((msg) => msg.id !== loadingMessageId)\n          .map((msg) => ({ role: msg.role, content: msg.content }));\n        // 找到 loadingMessageId 的索引\n        const index = this.messages.findIndex(\n          (msg) => msg.id === loadingMessageId\n        );\n        // 百炼API流式输出逻辑\n        const apiUrl =\n          \"https://dashscope.aliyuncs.com/api/v1/apps/b06082ea08e14da99c6803f6a4742edc/completion\";\n        const apiKey = \"sk-57d82161014a48e1861aace48d89f189\"; // 请替换为实际key\n        const body = {\n          input: {\n            prompt: messages,\n          },\n          parameters: {\n            incremental_output: true,\n            rag_options: {\n              pipeline_ids: [\n                \"cmupp61ie0\",\n                \"efud9ymho4\",\n                \"e0383orm79\",\n                \"v4fz5025s9\",\n              ],\n            },\n            has_thoughts: false,\n          },\n          debug: {},\n        };\n        // 流式 fetch\n        const response = await fetch(apiUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`,\n            \"X-DashScope-SSE\": \"enable\",\n          },\n          body: JSON.stringify(body),\n\n          signal: controller ? controller.signal : undefined,\n        });\n        if (!response.body || !window.ReadableStream) {\n          // 非流式降级处理\n          const data = await response.json();\n          let aiContent =\n            data.output ||\n            data.choices?.[0]?.message?.content ||\n            JSON.stringify(data);\n          this.messages = [\n            ...this.messages.slice(0, index),\n            {\n              role: \"assistant\",\n              content: aiContent,\n              id: this.generateUniqueId(),\n              mode: this.mode,\n              model: this.model,\n            },\n            ...this.messages.slice(index + 1),\n          ];\n          return;\n        }\n        // 流式处理\n        const reader = response.body.getReader();\n        let aiContent = \"\";\n        let done = false;\n        while (!done) {\n          const { value, done: doneReading } = await reader.read();\n          done = doneReading;\n          if (value) {\n            const chunk = new TextDecoder().decode(value);\n            // 处理 SSE 数据格式（以 data: 开头，换行分隔）\n            chunk.split(\"\\n\").forEach((line) => {\n              if (line.startsWith(\"data:\")) {\n                const dataStr = line.replace(/^data:/, \"\").trim();\n                if (dataStr && dataStr !== \"[DONE]\") {\n                  try {\n                    const json = JSON.parse(dataStr);\n                    // 百炼流式返回格式：output为对象时，text为字符串\n                    if (typeof json.output === \"string\") {\n                      aiContent += json.output;\n                    } else if (\n                      json.output &&\n                      typeof json.output.text === \"string\"\n                    ) {\n                      aiContent += json.output.text;\n                    } else if (Array.isArray(json.choices)) {\n                      json.choices.forEach((choice) => {\n                        if (typeof choice.text === \"string\") {\n                          aiContent += choice.text;\n                        } else if (\n                          choice.message &&\n                          typeof choice.message.content === \"string\"\n                        ) {\n                          aiContent += choice.message.content;\n                        }\n                      });\n                    }\n                  } catch (e) {\n                    // 解析失败时可输出原始内容，便于调试\n                    aiContent += dataStr;\n                  }\n                }\n              }\n            });\n            // 实时更新消息内容\n            this.messages = [\n              ...this.messages.slice(0, index),\n              {\n                role: \"assistant\",\n                content: aiContent,\n                id: this.generateUniqueId(),\n                mode: this.mode,\n                model: this.model,\n              },\n              ...this.messages.slice(index + 1),\n            ];\n          }\n        }\n      } catch (error) {\n        this.messages = [\n          {\n            role: \"assistant\",\n            content: `请求失败：${error.message}`,\n            id: this.generateUniqueId(),\n          },\n        ];\n      }\n    },\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const chatContainer = this.$refs.chatContainer;\n        if (chatContainer) chatContainer.scrollTop = chatContainer.scrollHeight;\n      });\n    },\n    generateUniqueId() {\n      return Date.now().toString(36) + Math.random().toString(36).substring(2);\n    },\n    getSystemMessage() {\n      return \"你是百炼RAG助手，请根据用户问题给出专业、准确的回答。\";\n    },\n    changeMode(newMode) {\n      this.mode = newMode;\n      this.messages = [];\n      this.isThinking = false;\n    },\n    changeModel(newModel) {\n      this.model = newModel;\n      this.messages = [];\n      this.isThinking = false;\n      this.$refs.inputBox &&\n        this.$refs.inputBox.init &&\n        this.$refs.inputBox.init();\n    },\n    stopAIResponse() {\n      if (this.abortController) {\n        this.abortController.abort();\n        this.isThinking = false;\n        this.messages.push({\n          role: \"assistant\",\n          model: this.model,\n          content: \"已终止请求！\",\n        });\n      }\n    },\n    handleInput(event) {\n      this.autoResizeTextarea(event.target);\n      this.adjustHeight();\n    },\n    handleKeydown(event) {\n      if (event.key === \"Enter\" && !event.ctrlKey && !event.metaKey) {\n        event.preventDefault();\n        this.handleSend();\n      } else if (event.key === \"Enter\" && (event.ctrlKey || event.metaKey)) {\n        event.preventDefault();\n        this.userInput += \"\\n\";\n        this.autoResizeTextarea(this.$refs.textarea);\n      }\n    },\n    handleSend() {\n      if (this.userInput.trim() === \"\" || this.isThinking) return;\n      this.sendMessage(this.userInput);\n      this.userInput = \"\";\n      this.resetTextareaHeight(this.$refs.textarea);\n      this.$nextTick(() => this.scrollToBottom());\n    },\n    autoResizeTextarea(textarea) {\n      textarea.style.height = \"auto\";\n      textarea.style.height = textarea.scrollHeight + \"px\";\n      this.boxHeight = textarea.scrollHeight + 55;\n    },\n    adjustHeight() {\n      const textarea = this.$refs.textarea;\n      textarea.style.height = \"auto\";\n      textarea.style.height = textarea.scrollHeight + \"px\";\n      this.boxHeight = textarea.scrollHeight + 55;\n    },\n    resetTextareaHeight(textarea) {\n      textarea.style.height = \"auto\";\n      textarea.style.height = this.initialHeight + \"px\";\n      this.boxHeight = this.initialHeight;\n    },\n    renderMarkdown(content) {\n      // 完整 markdown 解析，支持代码块高亮\n      if (!content) return \"\";\n      // 简单代码块处理（如需更强可引入 marked/highlight.js）\n      // 代码块：```lang\\ncode\\n```\n      content = content.replace(\n        /```([\\w-]*)\\n([\\s\\S]*?)```/g,\n        function (match, lang, code) {\n          return `<pre class='code-block'><code>${escapeHtml(\n            code\n          )}</code></pre>`;\n        }\n      );\n      // 行内代码\n      content = content.replace(/`([^`]+)`/g, \"<code>$1</code>\");\n      // 粗体、斜体、换行\n      content = content\n        .replace(/\\*\\*(.*?)\\*\\*/g, \"<b>$1</b>\")\n        .replace(/\\*(.*?)\\*/g, \"<i>$1</i>\")\n        .replace(/\\n/g, \"<br>\");\n      return content;\n      function escapeHtml(str) {\n        return str.replace(/[&<>\"']/g, function (tag) {\n          const chars = {\n            \"&\": \"&amp;\",\n            \"<\": \"&lt;\",\n            \">\": \"&gt;\",\n            '\"': \"&quot;\",\n            \"'\": \"&#39;\",\n          };\n          return chars[tag] || tag;\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.input-box {\n  width: calc(100% - 10px);\n  min-height: 110px;\n  max-height: 500px;\n  background-color: #ffffff;\n  border: 1px solid #d9d9d9;\n  border-radius: 10px;\n  margin: 5px 5px 25px 5px;\n  padding: 10px;\n  position: relative;\n  overflow: hidden;\n}\n@media screen and (min-width: 1024px) {\n  .input-box {\n    min-height: 120px;\n  }\n}\n.input-textarea {\n  width: 100%;\n  height: auto;\n  outline: none;\n  border: none;\n  resize: none;\n  font-size: 14px;\n  background-color: #ffffff;\n  overflow: hidden;\n}\n.input-box-bottom {\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n}\n.input-box-bottom .send-button {\n  position: absolute;\n  bottom: 7px;\n  right: 20px;\n}\n.send-button {\n  position: absolute;\n  bottom: 10px;\n  right: 20px;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  background-color: #4d6bfe;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  padding: 0;\n}\n.send-button svg {\n  width: 14px;\n  height: 16px;\n  color: white;\n}\n.send-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n/* 完全对齐 MessageBox.vue 的气泡大小逻辑，修复短内容过窄断行，减小内边距 */\n.user-bubble,\n.ai-bubble {\n  display: inline-block;\n  min-width: 60px;\n  max-width: 70%;\n  min-height: 40px;\n  padding: 6px 8px; /* 缩小内边距，防止短内容气泡过宽或断行 */\n  font-size: 15px;\n  line-height: 1.6;\n  word-break: break-word;\n  white-space: pre-wrap;\n  vertical-align: top;\n  box-sizing: border-box;\n}\n.user-bubble {\n  background: linear-gradient(90deg, #4d6bfe 0%, #6e8bff 100%);\n  color: #fff;\n  border-radius: 12px 12px 12px 12px;\n  margin-left: auto;\n  margin-right: 0;\n  box-shadow: 0 2px 8px 0 rgba(77, 107, 254, 0.08);\n  transition: box-shadow 0.2s;\n}\n.user-bubble:hover {\n  box-shadow: 0 4px 16px 0 rgba(77, 107, 254, 0.16);\n}\n.ai-bubble {\n  background: #f1f1f1;\n  color: #222;\n  border-radius: 12px 12px 12px 12px;\n\n  min-width: 64px;\n  margin-right: auto;\n  margin-left: 0;\n  box-shadow: 0 2px 6px 0 rgba(77, 107, 254, 0.04);\n}\n.ai-bubble:hover {\n  box-shadow: 0 4px 16px 0 rgba(77, 107, 254, 0.1);\n}\n.markdown-content {\n  font-size: 15px;\n  line-height: 1.7;\n  word-break: break-word;\n}\n.code-block {\n  background: #23272e;\n  color: #fff;\n  border-radius: 8px;\n  padding: 12px 16px;\n  font-family: \"Fira Mono\", \"Consolas\", \"Menlo\", monospace;\n  font-size: 14px;\n  margin: 8px 0;\n  overflow-x: auto;\n}\n.search-result-card {\n  background: #f5f7fa;\n  border-radius: 8px;\n  padding: 10px 14px;\n  margin-bottom: 8px;\n  font-size: 14px;\n  color: #444;\n  border: 1px solid #e5e7eb;\n}\n.search-result-title {\n  color: #2563eb;\n  font-weight: 500;\n  text-decoration: underline;\n  cursor: pointer;\n}\n.search-result-snippet {\n  color: #666;\n  font-size: 13px;\n  margin-top: 2px;\n}\n.reasoning-card {\n  background: #f5f7fa;\n  border-radius: 8px;\n  padding: 10px 14px;\n  margin-bottom: 8px;\n  font-size: 14px;\n  color: #444;\n  border: 1px solid #e5e7eb;\n}\n.reasoning-toggle {\n  cursor: pointer;\n  font-weight: 500;\n  color: #4d6bfe;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RagChat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RagChat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RagChat.vue?vue&type=template&id=543866b4&scoped=true\"\nimport script from \"./RagChat.vue?vue&type=script&lang=js\"\nexport * from \"./RagChat.vue?vue&type=script&lang=js\"\nimport style0 from \"./RagChat.vue?vue&type=style&index=0&id=543866b4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"543866b4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full bg-main\"\n  >\n    <div\n      class=\"main min-h-screen flex flex-col absolute inset-0 -z-10 h-full w-full\"\n    >\n      <!-- 模型选择 -->\n      <TabSelector :tab=\"tab\" @tab-selected=\"changeTab\" />\n      <template v-if=\"tab === 'chat'\">\n        <!-- <ModelSelector v-if=\"!isDeepThinking\" :model=\"model\" @change-model=\"changeModel\" /> -->\n\n        <!-- 聊天记录区域 -->\n        <div\n          ref=\"chatContainer\"\n          class=\"flex-1 p-2 overflow-y-auto pb-2 chatContainer\"\n        >\n          <!-- 消息列表 -->\n          <Message\n            v-for=\"message in messages\"\n            :key=\"message.id\"\n            :message=\"message\"\n          />\n        </div>\n\n        <!-- 输入框区域 -->\n        <InputBox\n          ref=\"inputBox\"\n          :is-thinking=\"isThinking\"\n          :showMode=\"true\"\n          :mode=\"mode\"\n          :model=\"model\"\n          :is-deep-thinking=\"isDeepThinking\"\n          @send-message=\"sendMessage\"\n          @scroll-to-bottom=\"scrollToBottom\"\n          @change-mode=\"changeMode\"\n          @toggle-deep-thinking=\"toggleDeepThinking\"\n          @change-model=\"changeModel\"\n          @stop-ai-response=\"stopAIResponse\"\n        />\n      </template>\n      <!-- 图片识别大模型-智谱 -->\n      <template v-else-if=\"tab === 'image'\">\n        <Glm4V />\n      </template>\n      <!-- 生图大模型 -->\n      <template v-else-if=\"tab === 'cogview'\">\n        <CogView />\n      </template>\n      <template v-else-if=\"tab === 'ragchat'\">\n        <RagChat />\n      </template>\n      <!-- 视频生成大模型 -->\n      <template v-else-if=\"tab === 'textvideo'\">\n        <VideoGlm />\n      </template>\n      <template v-else-if=\"tab === 'imgvideo'\">\n        <VideoImg />\n      </template>\n      <FooterBox />\n    </div>\n  </div>\n</template>\n\n<script>\n// import ModelSelector from './ModelSelector.vue'\nimport { mapState } from \"vuex\";\nimport TabSelector from \"./TabSelector.vue\";\nimport Message from \"./ChatBox/MessageBox.vue\";\nimport InputBox from \"./ChatBox/InputBox.vue\";\nimport Glm4V from \"./ImgBox/Glm4V.vue\";\nimport CogView from \"./ImgBox/CogView.vue\";\nimport VideoGlm from \"./ImgBox/VideoGlm.vue\";\nimport VideoImg from \"./ImgBox/VideoImg.vue\";\nimport FooterBox from \"./FooterBox.vue\";\nimport { fetchAIResponse, API_CONFIG } from \"../utils/api\";\nimport { ChatPrompts } from \"../utils/prompt.js\";\nimport RagChat from \"./ChatBox/RagChat.vue\";\nexport default {\n  components: {\n    // ModelSelector,\n    TabSelector,\n    Message,\n    InputBox,\n    FooterBox,\n    Glm4V,\n    CogView,\n    VideoGlm,\n    VideoImg,\n    RagChat,\n  },\n  ...mapState([\"sessions\", \"currentModel\", \"currentTab\"]),\n  data() {\n    return {\n      messages: [], // 初始化为空\n      isThinking: false,\n      mode: \"normal\",\n      model: \"deepseek\",\n      tab: \"chat\",\n      abortController: null, // 用来保存 AbortController 实例\n      isDeepThinking: true, // 由 data 控制\n    };\n  },\n  methods: {\n    toggleDeepThinking(isDeepThinking) {\n      this.isDeepThinking = isDeepThinking;\n      if (isDeepThinking) {\n        this.model = \"deepThinking\";\n      } else {\n        this.model = \"deepseek\";\n      }\n    },\n    async sendMessage(userInput) {\n      if (userInput.trim() === \"\") return;\n\n      // 插入用户消息\n      this.messages.push({\n        role: \"user\",\n        content: userInput,\n        id: Date.now(),\n      });\n\n      const loadingMessage = {\n        role: \"assistant\",\n        content: \"思考中\",\n        id: \"loading-\" + Date.now(),\n      };\n      this.messages.push(loadingMessage);\n\n      this.isThinking = true;\n\n      // 创建新的 AbortController 实例\n      this.abortController = new AbortController();\n\n      // 获取 AI 响应，传入 abortController\n      await this.getAIResponse(loadingMessage.id, this.abortController);\n\n      this.isThinking = false;\n      this.scrollToBottom();\n    },\n    async getAIResponse(loadingMessageId, controller) {\n      try {\n        const systemMessage = this.getSystemMessage();\n\n        // 移除默认消息\n        const messagesWithoutDefault = this.messages.filter(\n          (msg) =>\n            msg.role !== \"assistant\" ||\n            msg.content !== \"你好！请问有什么可以帮您的？\"\n        );\n\n        const messages = [\n          { role: \"system\", content: systemMessage },\n          ...messagesWithoutDefault\n            .filter((msg) => msg.id !== loadingMessageId)\n            .map((msg) => ({ role: msg.role, content: msg.content })),\n        ];\n\n        const { apiUrl, apiKey, modelName, temperature } = this.getApiConfig();\n\n        let reasoningContent = \"\";\n        let finalContent = \"\";\n        let totalTokens = 0;\n\n        let isInsideThinkTag = false; // 标记是否在 <think> 标签内\n        let thinkBuffer = \"\"; // 临时存储 <think> 标签内的内容\n\n        const index = this.messages.findIndex(\n          (msg) => msg.id === loadingMessageId\n        );\n        if (index !== -1) {\n          this.messages = [\n            ...this.messages.slice(0, index),\n            {\n              role: \"assistant\",\n              content: \"思考中\",\n              reasoningContent: \"\",\n              token: 0,\n              duration: 0,\n              id: this.generateUniqueId(),\n              mode: this.mode,\n              model: this.model,\n              reasoningSearchResults: [], // 新增：初始化 reasoningSearchResults\n              contentSearchResults: [], // 新增：初始化 contentSearchResults\n            },\n            ...this.messages.slice(index + 1),\n          ];\n        }\n\n        const stream = true;\n        await fetchAIResponse(\n          apiUrl,\n          apiKey,\n          modelName,\n          messages,\n          temperature,\n          stream,\n          (chunk) => {\n            if (controller.signal.aborted) {\n              return; // 请求被中止，退出\n            }\n\n            const extractSearchResults = (text) => {\n              // 使用 RegExp 构造函数\n              const searchResultRegex = new RegExp(\n                \"([\\\\s\\\\S]*?)\\\\$\\\\~\\\\~\\\\~\\\\$\\\\s*(\\\\[.*?\\\\])\\\\s*\\\\$\\\\~\\\\~\\\\~\\\\$\",\n                \"g\"\n              );\n              let match;\n              let extractedResults = [];\n\n              while ((match = searchResultRegex.exec(text)) !== null) {\n                try {\n                  const parsedResults = JSON.parse(match[2]);\n                  extractedResults = [...extractedResults, ...parsedResults]; // 合并结果\n                } catch (error) {\n                  console.error(\"JSON 解析错误:\", error);\n                  console.error(\"错误数据:\", match[2]);\n                }\n              }\n              return extractedResults;\n            };\n\n            // 新增：移除联网查询结果标记的函数\n            const removeSearchResultMarkers = (text) => {\n              const searchResultRegex = new RegExp(\n                \"([\\\\s\\\\S]*?)\\\\$\\\\~\\\\~\\\\~\\\\$\\\\s*(\\\\[.*?\\\\])\\\\s*\\\\$\\\\~\\\\~\\\\~\\\\$\",\n                \"g\"\n              );\n              return text.replace(searchResultRegex, \"\");\n            };\n\n            if (chunk.type === \"reasoning\") {\n              reasoningContent += chunk.content;\n              totalTokens = parseFloat((totalTokens + chunk.token).toFixed(4));\n\n              // 获取当前消息对象\n              const currentMessage = this.messages[index];\n\n              // 如果是第一次进入 reasoning 阶段，记录开始时间\n              if (!currentMessage.reasoningStartTime) {\n                currentMessage.reasoningStartTime = Date.now();\n              }\n\n              // 计算深度思考持续时间\n              const currentTime = Date.now();\n              currentMessage.reasoningDuration = parseFloat(\n                (\n                  (currentTime - currentMessage.reasoningStartTime) /\n                  1000\n                ).toFixed(1)\n              );\n\n              // 清空 reasoningSearchResults 数组\n              currentMessage.reasoningSearchResults = [];\n              const results = extractSearchResults(reasoningContent);\n              currentMessage.reasoningSearchResults = [...results];\n\n              // 移除 reasoningContent 中的联网查询结果标记\n              const cleanedReasoningContent =\n                removeSearchResultMarkers(reasoningContent);\n\n              this.messages = [\n                ...this.messages.slice(0, index),\n                {\n                  ...currentMessage,\n                  reasoningContent: cleanedReasoningContent,\n                  token: totalTokens,\n                  duration: chunk.duration,\n                }, // 更新消息对象，包含 reasoningSearchResults\n                ...this.messages.slice(index + 1),\n              ];\n            } else if (chunk.type === \"content\") {\n              // 获取当前消息对象\n              const currentMessage = this.messages[index]; // 确保在使用之前初始化\n\n              // 直接处理流式数据的分块内容\n              const content = chunk.content;\n\n              // 检查是否进入 <think> 标签\n              if (content.includes(\"<think>\")) {\n                isInsideThinkTag = true; // 标记进入 <think> 标签\n                thinkBuffer = \"\"; // 清空临时缓冲区\n\n                // 记录深度思考开始时间\n                if (!currentMessage.reasoningStartTime) {\n                  currentMessage.reasoningStartTime = Date.now();\n                }\n\n                // 在深度思考时，设置 content 为 \"思考中\"\n                currentMessage.content = \"思考中\";\n              }\n\n              // 如果在 <think> 标签内，追加内容到缓冲区并实时更新 reasoningContent\n              if (isInsideThinkTag) {\n                thinkBuffer += content;\n\n                // 实时提取 <think> 标签中的内容（不包括 <think> 标签本身）\n                const thinkContent = thinkBuffer.replace(\"<think>\", \"\"); // 移除开始标签\n                // .replace(/\\n/g, '') // 秮除所有换行符\n\n                reasoningContent = thinkContent; // 实时更新 reasoningContent\n\n                // 实时计算深度思考时间\n                if (currentMessage.reasoningStartTime) {\n                  const currentTime = Date.now();\n                  currentMessage.reasoningDuration = parseFloat(\n                    (\n                      (currentTime - currentMessage.reasoningStartTime) /\n                      1000\n                    ).toFixed(1)\n                  );\n                }\n              }\n\n              // 检查是否结束 </think> 标签\n              if (content.includes(\"</think>\")) {\n                isInsideThinkTag = false; // 标记离开 <think> 标签\n\n                // 提取 <think> 标签中的内容\n                const thinkContent = thinkBuffer\n                  .replace(\"<think>\", \"\") // 移除开始标签\n                  .replace(\"</think>\", \"\"); // 秮除结束标签\n                // .replace(/\\n/g, '') // 移除所有换行符\n\n                reasoningContent = thinkContent; // 更新 reasoningContent\n                thinkBuffer = \"\"; // 清空缓冲区\n              }\n\n              // 如果不在 <think> 标签内，将内容追加到 finalContent\n              if (\n                !isInsideThinkTag &&\n                !content.includes(\"<think>\") &&\n                !content.includes(\"</think>\")\n              ) {\n                finalContent += content;\n              }\n\n              totalTokens = parseFloat((totalTokens + chunk.token).toFixed(4));\n\n              // 清空 contentSearchResults 数组\n              currentMessage.contentSearchResults = [];\n              const results = extractSearchResults(finalContent);\n              currentMessage.contentSearchResults = [...results];\n\n              // 移除 finalContent 中的联网查询结果标记\n              const cleanedFinalContent =\n                removeSearchResultMarkers(finalContent);\n\n              // 更新消息对象\n              this.messages = [\n                ...this.messages.slice(0, index),\n                {\n                  ...currentMessage,\n                  content: isInsideThinkTag ? \"思考中\" : cleanedFinalContent, // 深度思考时显示 \"思考中\"，否则显示最终结果\n                  reasoningContent: reasoningContent, // 实时更新 reasoningContent\n                  token: totalTokens,\n                  duration: chunk.duration,\n                },\n                ...this.messages.slice(index + 1),\n              ];\n            } else if (chunk.type === \"complete\") {\n              const currentMessage = this.messages[index];\n              this.messages = [\n                ...this.messages.slice(0, index),\n                { ...currentMessage, duration: chunk.duration },\n                ...this.messages.slice(index + 1),\n              ]; // 传递 reasoningSearchResults 和 contentSearchResults\n            }\n            this.conditionalScrollToBottom();\n          },\n          controller\n        );\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          this.messages = [\n            {\n              role: \"assistant\",\n              content: `这个模型出现了问题，请重试或者换个模型！\\`\\`\\`错误信息：${error.message}\\n错误类型：${error.name}\\n堆栈信息：${error.stack}\\`\\`\\``,\n              id: this.generateUniqueId(),\n            },\n          ];\n        }\n      }\n    },\n    conditionalScrollToBottom() {\n      const chatContainer = this.$refs.chatContainer;\n      if (!chatContainer) return; // Ensure container exists\n\n      const isAtBottom =\n        chatContainer.scrollHeight - chatContainer.scrollTop <=\n        chatContainer.clientHeight + 50; // Add a tolerance of 50px\n\n      if (isAtBottom) {\n        this.scrollToBottom();\n      }\n    },\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const chatContainer = this.$refs.chatContainer;\n        chatContainer.scrollTop = chatContainer.scrollHeight;\n      });\n    },\n    generateUniqueId() {\n      return Date.now().toString(36) + Math.random().toString(36).substring(2);\n    },\n    getSystemMessage() {\n      if (this.model === \"qwq\") {\n        return \"\"; // 深度思考模式下，systemMessage 为空\n      }\n      const prompt = ChatPrompts.find((p) => p.mode === this.mode);\n      return prompt\n        ? prompt.systemMessage\n        : \"你是一个正常的助手，请用礼貌的语言回答问题。\";\n    },\n    getApiConfig() {\n      // 直接从配置文件中获取当前模型的配置\n      const config = API_CONFIG[this.model];\n      if (!config) {\n        throw new Error(`未找到模型 ${this.model} 的配置`);\n      }\n      return config;\n    },\n    changeMode(newMode) {\n      if (this.abortController) {\n        this.abortController.abort();\n      }\n      this.mode = newMode;\n      this.messages = []; // 清空消息列表\n      // 移除默认消息插入\n      this.isThinking = false;\n    },\n    changeModel(newModel) {\n      if (this.abortController) {\n        this.abortController.abort();\n      }\n      this.model = newModel;\n      if (newModel === \"shuinifengxin\") {\n        this.mode = \"rude\";\n      } else {\n        this.mode = \"normal\";\n      }\n      this.messages = []; // 清空消息列表\n      // 移除默认消息插入\n      this.isThinking = false;\n      this.$refs.inputBox.init();\n    },\n    changeTab(newTab) {\n      this.tab = newTab;\n      this.isDeepThinking = false;\n      this.model = \"deepseek\";\n      this.messages = [];\n      // 移除默认消息插入\n    },\n    stopAIResponse() {\n      if (this.abortController) {\n        this.abortController.abort();\n        this.isThinking = false;\n        // 在消息中塞入：已终止请求\n        this.messages.push({\n          role: \"assistant\",\n          model: this.model,\n          content: \"已终止请求！\",\n        });\n      } else {\n        console.log(\"No AI response in progress to stop.\");\n      }\n    },\n  },\n  mounted() {\n    // 获取Url中的参数model 然后赋值给this.model\n    const urlParams = new URLSearchParams(window.location.search);\n    const modelParam = urlParams.get(\"model\");\n    const tabParam = urlParams.get(\"tab\");\n    if (modelParam) {\n      this.model = modelParam;\n    }\n    if (tabParam) {\n      this.tab = tabParam;\n    }\n    // 移除默认消息插入\n    // if (!this.isDeepThinking) {\n    //     this.insertDefaultMessage()\n    // }\n    // 自动激活深度思考按钮\n    this.isDeepThinking = true;\n    this.model = \"deepThinking\";\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatBox.vue?vue&type=template&id=30414712\"\nimport script from \"./ChatBox.vue?vue&type=script&lang=js\"\nexport * from \"./ChatBox.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\n\nimport VueRouter from \"vue-router\";\nimport ChatBox from \"../components/ChatBox.vue\";\nimport CogView from \"@/components/ImgBox/CogView.vue\";\nimport Glm4V from \"@/components/ImgBox/Glm4V.vue\";\nimport RagChat from \"@/components/ChatBox/RagChat.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"ChatBox\",\n    component: ChatBox,\n  },\n  {\n    path: \"/pagereader\",\n    name: \"Glm4v\",\n    component: Glm4V,\n  },\n  {\n    path: \"/pagedesigner\",\n    name: \"CogView\",\n    component: CogView,\n  },\n  {\n    path: \"/ragchat\",\n    name: \"RagChat\",\n    component: RagChat,\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  routes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    user: null,\n    sessions: {}, // { modelKey: [message, ...] }\n    currentModel: \"deepseek\",\n    currentTab: \"chat\",\n    modelOptions: [],\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n    setCurrentModel(state, model) {\n      state.currentModel = model;\n    },\n    setCurrentTab(state, tab) {\n      state.currentTab = tab;\n    },\n    setModelOptions(state, options) {\n      state.modelOptions = options;\n    },\n    addMessage(state, { model, message }) {\n      if (!state.sessions[model]) state.sessions[model] = [];\n      state.sessions[model].push(message);\n    },\n    setSession(state, { model, messages }) {\n      state.sessions[model] = messages;\n    },\n    clearSession(state, model) {\n      state.sessions[model] = [];\n    },\n  },\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store/store.js\";\nimport \"./index.css\";\n\nnew Vue({\n  router,\n  store,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchatwpt\"] = self[\"webpackChunkchatwpt\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8745); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","staticRenderFns","name","component","staticClass","attrs","tab","on","changeTab","ref","_l","messages","message","key","id","isThinking","mode","model","isDeepThinking","sendMessage","scrollToBottom","changeMode","toggleDeepThinking","changeModel","stopAIResponse","_e","$event","domProps","_v","props","type","String","required","methods","newModel","$emit","class","messageClass","role","roleImgUrl","staticStyle","showName","nameClass","_s","config","contentSearchResults","length","toggleContentSearchResults","isContentSearchResultsExpanded","result","index","link","title","url","snippet","reasoningContent","toggleReasoning","reasoningDuration","isReasoningExpanded","replace","trim","bubbleClass","showCopyButton","splitMixedContent","content","part","detectLanguage","renderMarkdown","escapeHtml","presets","handlePresetClick","token","duration","isCode","test","codePatterns","some","pattern","parts","codeBlockRegex","lastIndex","match","p1","p2","offset","push","slice","codeContent","autoResizeTextarea","textarea","style","height","scrollHeight","resetTextareaHeight","boxShadow","modelInfo","img","require","API_CONFIG","deepseek","apiUrl","apiKey","process","modelName","temperature","deepThinking","max_tokens","gemini","bigmodel","bigmodelCogview","bigmodelCogVideo","kimi","kimiFile","baichuan","stepfunChat","stepfun","stepfunTTS","lingyiwanwu","qwen","minimax","gpt4o_mini","qwq","showModels","description","fetchAIResponse","async","stream","onDataReceived","controller","requestBody","startTime","performance","now","response","fetch","method","headers","Authorization","body","JSON","stringify","signal","ok","Error","status","data","json","endTime","totalDuration","parseFloat","toFixed","reader","getReader","decoder","TextDecoder","buffer","done","value","read","decode","lines","split","pop","line","startsWith","jsonData","parse","choices","delta","currentDuration","reasoning_content","reasoning","tokenCount","calculateTokenCount","error","console","fetchTTS","input","voice","blob","text","englishChars","chineseChars","computed","find","m","languageClass","formattedCode","isCopied","copyCode","code","language","default","Boolean","mounted","highlightCode","codeElement","$refs","hljs","highlightBlock","clipboard","Clipboard","setTimeout","destroy","log","components","IconAI","CodeBlock","Object","watch","handler","newVal","immediate","preset","handleCopy","navigator","writeText","then","catch","fallbackCopyText","textArea","document","createElement","position","appendChild","focus","select","successful","execCommand","err","removeChild","marked","map","showMode","openModelDialog","selectedModelImg","selectedModel","isShareDialogOpen","target","currentTarget","models","boxHeight","preventDefault","handleSubmit","apply","arguments","directives","rawName","userInput","expression","placeholder","composing","handleInput","handleKeydown","think","changeThink","$nextTick","selected","initialHeight","showPasswordModal","passwordInput","correctPassword","event","adjustHeight","resetInput","ctrlKey","metaKey","roleChange","newMode","confirmPasswordInput","alert","deepThinkingSwitch","checked","cancelPasswordInput","init","imageUrl","openShareDialog","functions","selectedFunction","audioUrl","playAudio","generatedContent","isLoading","handleImageUpload","startRecognition","buttonText","_m","saveShareToLocal","closeShareDialog","ChatPrompts","systemMessage","ImagePrompts","prompt","ImageCogView","imageBase64","abortController","switchFunction","file","files","allowedTypes","includes","Image","src","URL","createObjectURL","onload","width","size","compressedFile","compressImage","fileToBase64","FileReader","e","readAsDataURL","Promise","resolve","reject","canvas","ctx","getContext","maxWidth","maxHeight","ratio","Math","min","drawImage","toBlob","newBlob","onerror","AbortController","image_url","streamContent","chunk","aborted","cleanedContent","trimmedContent","generateTTS","audioElement","$el","querySelector","play","audio","audioRef","postCardElement","html2canvas","allowTaint","useCORS","scale","onclone","clonedDoc","clonedImg","objectFit","toDataURL","href","download","click","inputText","shuffleStyles","currentStyles","selectedStyle","selectStyle","submitData","styles","styleName","shuffled","sort","random","stylePrompt","fullPrompt","getAIResponse","videoUrl","coverImageUrl","optimizeInput","disabled","inputTip","optimizedPrompt","optimizePrompt","taskId","generateVideo","pollTaskStatus","with_audio","maxAttempts","interval","i","task_status","video_result","cover_image_url","errorResponse","errorMessage","showInfo","showWeChatQR","wechatQR","modelIntroduce","_expandSearch","transform","idx","_expandReasoning","handleSend","Date","loadingMessage","loadingMessageId","filter","msg","findIndex","parameters","incremental_output","rag_options","pipeline_ids","has_thoughts","debug","undefined","window","ReadableStream","aiContent","output","generateUniqueId","doneReading","forEach","dataStr","Array","isArray","choice","chatContainer","scrollTop","toString","substring","getSystemMessage","inputBox","abort","lang","str","tag","chars","TabSelector","Message","InputBox","FooterBox","Glm4V","CogView","VideoGlm","VideoImg","RagChat","mapState","messagesWithoutDefault","getApiConfig","finalContent","totalTokens","isInsideThinkTag","thinkBuffer","reasoningSearchResults","extractSearchResults","searchResultRegex","RegExp","extractedResults","exec","parsedResults","removeSearchResultMarkers","currentMessage","reasoningStartTime","currentTime","results","cleanedReasoningContent","thinkContent","cleanedFinalContent","conditionalScrollToBottom","stack","isAtBottom","clientHeight","p","newTab","urlParams","URLSearchParams","location","search","modelParam","get","tabParam","Vue","use","VueRouter","routes","path","ChatBox","router","Vuex","state","user","sessions","currentModel","currentTab","modelOptions","mutations","setUser","setCurrentModel","setCurrentTab","setModelOptions","options","addMessage","setSession","clearSession","store","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}